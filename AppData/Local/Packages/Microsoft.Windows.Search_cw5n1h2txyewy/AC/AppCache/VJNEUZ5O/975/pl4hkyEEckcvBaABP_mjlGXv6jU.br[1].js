var __awaiter,__generator,__assign,__extends,WSB;(function(n){function u(n,t){return n===t?!0:n&&t?n.gleamFormat==t.gleamFormat&&i(n.parameters,t.parameters):!1}function i(n,t){return n===t?!0:n&&t?n.placeholderText==t.placeholderText&&n.lightGleamDataOrUrl==t.lightGleamDataOrUrl&&n.darkGleamDataOrUrl==t.darkGleamDataOrUrl&&n.expirationTime==t.expirationTime&&n.gleamSize==t.gleamSize&&n.win11ShowForMillis==t.win11ShowForMillis&&n.targetSurface==t.targetSurface:!1}function o(n){var i,r=((i=n===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0?void 0:i.indexOf("/th?"))>=0?e:f,t=n===null||n===void 0?void 0:n.match(r);return(t===null||t===void 0?void 0:t.length)>0?t[1]:""}function t(n){var t=undefined,i=undefined;switch(n.dsbSection){case 0:t=!n.isWindows11?392:424;i=!n.isWindows11?221:240;break;case 1:i=!n.isWindows11?154:96;t=n.isTwoCta?!n.isWindows11?190:206:!n.isWindows11?124:134;break;case 2:n.dsbScenario==6?(t=!n.isWindows11?180:124,i=!n.isWindows11?102:70):(t=!n.isWindows11?86:90,i=!n.isWindows11?86:90)}return{width:t,height:i}}function r(n,i,r,u,f,e){u===void 0&&(u=1);f===void 0&&(f=1);e===void 0&&(e=0);var o=t(i),s=o.width,h=o.height;return"".concat(r,"/th?id=").concat(n).concat(s?"&w=".concat(s):"").concat(h?"&h=".concat(h):"","&c=").concat(u,"&rs=").concat(f,"&p=").concat(e)}function s(n,i){var r=t(i),u=r.width,f=r.height;return"https://static-global-s-msn-com.akamaized.net/img-resizer/tenant/amp/entityid/".concat("".concat(n,"?h=").concat(f,"&w=").concat(u,"&m=6"))}function h(n){switch(n){case"TrendingSearch":return"SHTRND";case"HeroCardOfTheDay":return"SHHPIH";case"OnThisDay":return"SHODCA";case"Quiz":return"SHQZHO";case"MapIt":return"SHMIHO";case"QuoteOfTheDay":return"SHQTCA";case"WordOfTheDay":return"SHWDCA";case"WholePageTabs":return"SHWPHS";case"KC_HeroCard":return"SHKNCH";case"PersonalizedSports":return"SHSPCA";case"RelatedLocal":case"RelatedLocal_Hero":return"SHLFDH";case"RelatedLocal_CTA":return"SHLRCA";case"RelatedRecipe":return"SHRCCA";case"TrendingVideos":return"SHTVMC";case"TrendingImages":return"SHTIMC";case"AllImages":return"SHAIHO";case"Rewards":return"SHRWCA";case"ExploreMore":return"SHEMMC";default:return"SHDFLT"}}function c(n){switch(n){case"RelatedShopping_Hero":return"shshophero";case"RelatedShopping_CTA":return"shshopcta";case"PersonalizedRecipes":return"shrecipespcta";case"PersonalizedSports":return"shsportscta";default:return"shdefault"}}function l(t){return n.setBingUrlLanguageAndRegion(t,n.Host.getRegion(),n.getCurrentLanguage())}function a(n,t,i,r){var o=i.getContext("2d"),u,e;o.font=r.font||'normal 14px "Segoe UI Variable Text"';var s=t,f=0,h=0;for(u=0,e=n;u<e.length;u++){var l=e[u],a=o.measureText(l),c=a.width+r.extraWidthPerItem;if(f+c>r.lineWidth&&(f=0,s-=1),f+=c,s===0)break;h+=1}return h}function v(t){return n.Host.getLocString(t)}function y(n,t,i,r){var u="";return n&&(u+="".concat(n,": \n ")),t&&(u+="".concat(t," \n ")),i&&(u+="[".concat(i,"] \n ")),r&&(u+="".concat(r)),u}function p(t,i,u,f,e,o){if(e===void 0&&(e=!1),o===void 0&&(o=!1),!t)return"";return t=t===null||t===void 0?void 0:t.match(/([^&]*)/)[0],{backgroundImage:"url(".concat(r(t,{dsbSection:i,dsbScenario:u,isWindows11:n.config.useCobaltCSS,isTwoCta:e},f,o?13:1),")")}}n.areDynamicSearchBoxContentEqual=u;n.areDynamicSearchBoxContentParametersEqual=i;var f=new RegExp("/id/([^/?#$]*)","i"),e=new RegExp("[?&]id=([^&#$]*)","i");n.extractThumbnailIdFromUrl=o;n.generateThumbnailDimension=t;n.generateBingThumbnailUrlFromId=r;n.generateMsnThumbnailUrlFromId=s;n.getDSBFormCode=h;n.getDSBOCID=c;n.generateBingUrlWithLanguageAndRegion=l;n.numberOfItemsToDisplay=a;n.getBtnTitle=v;n.getTooltips=y;n.getImageStyle=p})(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.click=function(t,i,r){var u=i.startsWith("/")?"".concat(location.origin).concat(i):i;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),this.props.instrumentedItem,t,r)},u.prototype.getThumbnailUrl=function(t){var i=n.extractThumbnailIdFromUrl(t);return n.generateBingThumbnailUrlFromId(i,{dsbSection:0,isWindows11:n.config.useCobaltCSS},this.props.imageHostName)},u.prototype.isCaptionSupported=function(){return n.config.dsbIotdCaptionSupportedLanguages[n.getCurrentLanguage()]},u.prototype.isTitleSupported=function(){return n.config.dsbIotdTitleSupportedLanguages[n.getCurrentLanguage()]},u.prototype.render=function(){var y=this,r=this.props,o=r.allImagesUrl,s=r.bingLandingUrl,h=r.Caption,p=r.clickThroughUrl,c=r.copyright,u=r.id,w=r.imageHostName,b=r.imageUrl,f=r.instrumentedItem,l=r.mapItUrl,k=r.onHoverHandler,a=r.title,e=r.wholePageTabsData,d={backgroundImage:"url(".concat(this.getThumbnailUrl(b),")")},v=this.isCaptionSupported()&&h?h:n.Host.getLocString("DSBIotdShowInfo"),g="".concat(n.Host.getLocString("DSBImageOfTheDay"),", ").concat(v,", ").concat(a,", ").concat(c),nt=React.createElement("div",{className:"dsb-iotd-content"},React.createElement("div",{className:"dsb-iotd-content-title"},React.createElement("div",{className:"dsb-iotd-title__popup"},this.isTitleSupported()&&React.createElement("div",{className:"dsb-iotd-title-text"},a),React.createElement("div",{className:"dsb-iotd-copyright"},c)),React.createElement("div",{className:"dsb-iotd-caption focusable selectable"},React.createElement("div",{className:"dsb-iotd-caption-icon"},React.createElement(i.IotdLocalIcon,null)),React.createElement("div",{className:"dsb-iotd-caption-text"},v))),React.createElement("div",null,o&&React.createElement(i.HeroOverlayButton,{btnId:"".concat(u,"_images"),btnTitle:n.getBtnTitle("DSBIotdAllImages"),btnClickThroughUrl:o,btnOverrideQscode:"AllImages".toString(),btnInstrumentedItem:f,btnClassName:"dsb-hero-overlay-bubble focusable selectable"}),s&&React.createElement(i.HeroOverlayButton,{btnId:"".concat(u,"_quiz"),btnTitle:n.getBtnTitle("DSBIotdQuiz"),btnClickThroughUrl:s,btnOverrideQscode:"Quiz".toString(),btnInstrumentedItem:f,btnClassName:"dsb-hero-overlay-bubble focusable selectable"}),l&&React.createElement(i.HeroOverlayButton,{btnId:"".concat(u,"_map"),btnTitle:n.getBtnTitle("DSBIotdMap"),btnClickThroughUrl:l,btnOverrideQscode:"MapIt".toString(),btnInstrumentedItem:f,btnClassName:"dsb-hero-overlay-bubble focusable selectable"})));return React.createElement("div",{id:u,className:"dsb-iotd",onClick:function(n){return y.click(n.nativeEvent,p)},tabIndex:-1,role:"link","aria-label":g,"data-partnertag":t.whenTestHooks("DSB.HeroCardOfTheDay"),"data-h":f.getHValue(),onMouseEnter:k},React.createElement("div",{className:"dsb-iotd__img-container ".concat(i.getWholePageTabsClassName(e))},React.createElement("div",{className:"dsb-hero__img",style:d})),React.createElement("div",{id:"".concat(u,"_card"),className:"dsb-iotd-card focusable ".concat(i.getWholePageTabsClassName(e))},nt,React.createElement("div",{className:"dsb-iotd__bing-logo"},React.createElement(i.BingLogo,null))),i.hasWholePageTabs(e)&&React.createElement(i.WholePageTabs,{scenario:null,items:e,id:"".concat(u,"_wholepagetabs"),imageHostName:w}))},u}(React.Component);i.HeroCardOfTheDay=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.click=function(t,i,r){var u="".concat(location.origin,"/search?q=").concat(encodeURIComponent(i));n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),t,r)},u.prototype.maxSuggestions=function(){var t,i;return(this.canvas=this.canvas=this.canvas||document.createElement("canvas"),n.config.useCobaltCSS)?n.numberOfItemsToDisplay((t=this.props)===null||t===void 0?void 0:t.items.map(function(n){return n.Query}),2,this.canvas,{extraWidthPerItem:36,lineWidth:390}):n.numberOfItemsToDisplay((i=this.props)===null||i===void 0?void 0:i.items.map(function(n){return n.Query}),5,this.canvas,{extraWidthPerItem:33,lineWidth:368,font:'normal 13px "Segoe UI"'})},u.prototype.render=function(){var r=this,u=n.Host.getLocString("DSBTrendingTitle"),f=this.props,o=f.items,e=f.id;return React.createElement("div",{id:e,className:"dsb-trending focusable","aria-label":u,"data-region":"TrendingSearches","data-partnertag":t.whenTestHooks("DSB.TrendingSearch")},React.createElement("div",{className:"dsb-trending__header"},React.createElement(i.TrendingIcon,null),React.createElement("span",null,u)),React.createElement("ul",null,o.slice(0,this.maxSuggestions()).map(function(n){var t,i="".concat(e,"_").concat(n.Query);return React.createElement("li",{id:i,key:i,className:"dsb-trending__suggestion focusable",tabIndex:-1,onClick:function(t){return r.click(n.instrumentedItem,n.Query,t.nativeEvent)},"data-h":(t=n.instrumentedItem)===null||t===void 0?void 0:t.getHValue(),onMouseEnter:function(){r.props.onHoverHandler()}},n.Query)})))},u}(React.Component);i.TrendingSearch=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},function(n){var t;(function(n){var t;(function(n){var t=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.CheckTwoCtas=function(){var n,t,i,r;return((r=(i=(t=(n=this.props)===null||n===void 0?void 0:n.dataModel)===null||t===void 0?void 0:t.sections)===null||i===void 0?void 0:i.filter(function(n){return n.props.cta}))===null||r===void 0?void 0:r.length)===2},i.prototype.render=function(){var i=this.props.dataModel,t=this.CheckTwoCtas();return React.createElement("div",{className:"dsb-sections ".concat(t?"dsb-sections-two-ctas":"")},React.createElement(n.DateCard,null),i.sections.map(function(n){var i=React.createElement(n.sectionView,__assign(__assign({},n.props),{isTwoCta:t}));return i.key=n.props.id,i}))},i}(React.Component);n.DynamicSearchBox=t})(t=n.DSB||(n.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={})),function(n){var t=function(){function n(){var n=this;this.promise=new Promise(function(t){return n.signal=t})}return n}(),i;n.Flag=t;i=function(){function n(){this.flags=[];this.locked=!1}return n.prototype.lock=function(){if(this.locked){var n=new t;return this.flags.push(n),n.promise}return this.locked=!0,Promise.resolve()},n.prototype.release=function(){if(this.flags.length>0){var n=this.flags.shift();n.signal()}else this.locked=!1},n.prototype.isLocked=function(){return this.locked},n}();n.Mutex=i}(WSB||(WSB={}));__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})};__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e},function(n){var t=0,u=3,i=1,f={placeholderText:"",lightGleamDataOrUrl:"",darkGleamDataOrUrl:"",expirationTime:0,gleamSize:null,win11ShowForMillis:t},r=new n.Mutex,e=function(){function e(t,r,u){var f=this,o,e;this._dsbViewModel=t;this._msb_dsbViewModel=r;SearchAppWrapper.CortanaApp.setDynamicSearchBoxEnablement&&SearchAppWrapper.CortanaApp.setDynamicSearchBoxEnablement(!0);n.config.undocked||((e=(o=SearchAppWrapper.CortanaApp).setAppGleamVisibilityOnlyOnGleamActivation)===null||e===void 0?void 0:e.call(o,!n.config.showDSBOnSearchBoxClick));n.Host.bindBootstrapDone(function(){n.isDynamicSearchContentPossible()&&n.safeSetTimeout(function(){f.logBackgroundTask("DsbManager_bootstrap");f.pendRefresh(2,0)},i,"dsbManager::bindBootstrapDone")});n.Host.bindDynamicSearchboxUpdate(function(){return n.isDynamicSearchContentPossible()?(f.logBackgroundTask("DsbManager_onBackgroundTask_Start"),new Promise(function(n){f.resolvePromise=n;f.onBackgroundTask();f.logBackgroundTask("DsbManager_onBackgroundTask_End")})):Promise.resolve()});n.Host.bindDynamicPlaceholderContentRequested(function(){return __awaiter(f,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.isDynamicSearchContentPossible()?(this.previousDynamicSearchBoxContent=null,[4,this.updateDynamicSearchBoxContent()]):[3,2];case 1:t.sent();t.label=2;case 2:return[2]}})})});n.Host.bindQueryChangedOrInitialized(function(n){f.currentQuery=n});n.Host.bindShown(function(){n.isDynamicSearchContentPossible()&&n.isDSBAllowedInEntryPoint()&&(f.appShown=!0,n.safeSetTimeout(function(){f.pendRefresh(7,2)},i,"dsbManager::bindShown"))});n.Host.bindDismissed(function(){f.appShown=!1});n.UrlParameters&&n.Host.bindKeyDown(function(n,t){t.ctrlKey&&n==115&&f.forceRefresh()});u.bindAccountTypesChanged(function(){return __awaiter(f,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return(t=n.AccessTokenManager.getWindowsAccountType(),!(t===0||t===1&&!this._msb_dsbViewModel))?[3,2]:[4,this.setViewModelDynamicSearchBoxContent(null)];case 1:i.sent();i.label=2;case 2:return this.flushPendingRefresh(),[2]}})})});n.Host.bindAccountChanged(function(){f.pendRefresh(3,3)})}return e.prototype.allowSuspension=function(){this.resolvePromise&&(this.resolvePromise(),this.resolvePromise=null)},e.prototype.forceRefresh=function(){n.isDynamicSearchContentPossible()?(n.log("DSB: forceBackgroundRefresh"),this.pendRefresh(3,5)):n.log("Can't force DSB refresh. DSB is not enabled.")},e.prototype.setDsbPanesVisibility=function(t){var i;n.shouldShowDSBLayout(t)?this.selectDsbViewModel(!0):((i=this._msb_dsbViewModel)===null||i===void 0?void 0:i.setVisibility(!1),this._dsbViewModel.setVisibility(!1))},e.prototype.getSelectableItemsByGroup=function(){var t,i;return n.shouldShowDSBLayout(this.currentQuery)?(i=(t=this.selectDsbViewModel())===null||t===void 0?void 0:t.getSelectableItemsByGroup())!==null&&i!==void 0?i:[]:[]},e.prototype.getSelectableItems=function(){var t,i;return n.shouldShowDSBLayout(this.currentQuery)?(i=(t=this.selectDsbViewModel())===null||t===void 0?void 0:t.getSelectableItems())!==null&&i!==void 0?i:[]:[]},e.prototype.updateDynamicSearchBoxContent=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.isDynamicSearchContentPossible()?[4,this.setViewModelDynamicSearchBoxContent(this.selectDsbViewModel())]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,this.setViewModelDynamicSearchBoxContent(null)];case 3:t.sent();t.label=4;case 4:return[2]}})})},e.prototype.isDSBVisible=function(){var n,t,i;return((n=this._msb_dsbViewModel)===null||n===void 0?void 0:n.isEnabled())?(t=this._msb_dsbViewModel)===null||t===void 0?void 0:t.getVisibility():(i=this._dsbViewModel)===null||i===void 0?void 0:i.getVisibility()},e.prototype.trySetDynamicSearchBoxContentWithRetry=function(t,i,r,f,e,o,s){return __awaiter(this,void 0,void 0,function(){var l,c,h;return __generator(this,function(a){switch(a.label){case 0:l=0;h=[];a.label=1;case 1:return[4,n.Async.safePromise("setDynamicSearchBoxContentWithResultAsync_url",function(){return SearchAppWrapper.CortanaApp.setDynamicSearchBoxContentWithResultAsync(t,i,r,f,e,o,s)})];case 2:c=a.sent();h.push(c);a.label=3;case 3:if(c!=0&&++l<u)return[3,1];a.label=4;case 4:return c!=0?SharedLogHelper.LogError("DynamicSearchManager",JSON.stringify({lightGleamValue:i,darkGleamValue:r,results:h,isUrl:o}),new Error("Failed to set gleam")):h.length>1&&SharedLogHelper.LogWarning("DynamicSearchManager",JSON.stringify({lightGleamValue:i,darkGleamValue:r,results:h,isUrl:o}),new Error("Succeeded to set gleam after failure")),[2]}})})},e.prototype.setDynamicSearchBoxContentUrl=function(i){var r;return __awaiter(this,void 0,void 0,function(){var f,u,e,o,s,l,h,a,c,v;return __generator(this,function(y){switch(y.label){case 0:return(f=i.placeholderText,u=i.win11ShowForMillis,e=i.targetSurface,o=i.lightGleamDataOrUrl,s=i.darkGleamDataOrUrl,l=i.expirationTime,h=i.gleamSize,u=u!==null&&u!==void 0?u:t,e=e!==null&&e!==void 0?e:0,a="Not Implemented",c=typeof l=="number"?new Date(l):l,n.config.undocked||n.config.showDSBOnSearchBoxClick||(f=""),!n.config.responsiveDynamicSearchAPI)?[3,2]:[4,this.trySetDynamicSearchBoxContentWithRetry(f,o,s,c,h,!0,a)];case 1:return y.sent(),[3,3];case 2:if(n.config.targetedDynamicSearchAPI)return v=(r=n.config.dsbForceTargetSurface)!==null&&r!==void 0?r:e,[2,n.Async.safePromise("setDynamicContentURLTargeted",function(){return SearchAppWrapper.CortanaApp.setDynamicContentURLTargeted(f,o,s,c,h,a,u,v)})];if(n.config.extendedDynamicSearchAPI)return[2,n.Async.safePromise("setDynamicContentUrl",function(){return SearchAppWrapper.CortanaApp.setDynamicContentURL(f,o,s,c,h,a,u)})];if(SearchAppWrapper.CortanaApp.setDynamicSearchBoxContentURL)return[2,n.Async.safePromise("setDynamicSearchBoxContentUrl",function(){return SearchAppWrapper.CortanaApp.setDynamicSearchBoxContentURL(f,o,s,c,h==1)})];n.log("CortanaApp.setDynamicSearchBoxContent not supported");y.label=3;case 3:return[2]}})})},e.prototype.setDynamicSearchBoxContentRawData=function(i){var r;return __awaiter(this,void 0,void 0,function(){var f,u,e,o,s,l,h,a,c,v;return __generator(this,function(y){switch(y.label){case 0:return(f=i.placeholderText,u=i.win11ShowForMillis,e=i.targetSurface,o=i.lightGleamDataOrUrl,s=i.darkGleamDataOrUrl,l=i.expirationTime,h=i.gleamSize,u=u!==null&&u!==void 0?u:t,e=e!==null&&e!==void 0?e:0,a="Not Implemented",c=typeof l=="number"?new Date(l):l,n.config.undocked||n.config.showDSBOnSearchBoxClick||(f=""),!n.config.responsiveDynamicSearchAPI)?[3,2]:[4,this.trySetDynamicSearchBoxContentWithRetry(f,o,s,c,h,!1,a)];case 1:return y.sent(),[3,3];case 2:if(n.config.targetedDynamicSearchAPI)return v=(r=n.config.dsbForceTargetSurface)!==null&&r!==void 0?r:e,[2,n.Async.safePromise("setDynamicContentRawDataTargeted",function(){return SearchAppWrapper.CortanaApp.setDynamicContentRawDataTargeted(f,o,s,c,h,a,u,v)})];if(n.config.extendedDynamicSearchAPI)return[2,n.Async.safePromise("setDynamicContentRawData",function(){return SearchAppWrapper.CortanaApp.setDynamicContentRawData(f,o,s,c,h,a,u)})];if(SearchAppWrapper.CortanaApp.setDynamicSearchBoxContentRawData)return[2,n.Async.safePromise("setDynamicSearchBoxContentRawData",function(){return SearchAppWrapper.CortanaApp.setDynamicSearchBoxContentRawData(f,o,s,c,h==1)})];n.log("CortanaApp.setDynamicSearchBoxContentRawData not supported");y.label=3;case 3:return[2]}})})},e.prototype.setDynamicSearchBoxUpdateInterval=function(t){return SearchAppWrapper.CortanaApp.updateDynamicSearchBoxUpdateInterval?SearchAppWrapper.CortanaApp.updateDynamicSearchBoxUpdateInterval(t):(n.log("CortanaApp.updateDynamicSearchBoxUpdateInterval not supported"),!1)},e.prototype.hasContent=function(){var n;if((n=this.previouslySelectedViewModel)!==null&&n!==void 0)return n.hasContent()},e.prototype.setDsbVisibility=function(){var n,t;((n=this._msb_dsbViewModel)===null||n===void 0?void 0:n.isEnabled())?(this._msb_dsbViewModel.setVisibility(!0),this._dsbViewModel.setVisibility(!1)):(this._dsbViewModel.setVisibility(!0),(t=this._msb_dsbViewModel)===null||t===void 0?void 0:t.setVisibility(!1))},e.prototype.pendRefresh=function(t,i){var r,u,f=n.AccessTokenManager.getWindowsAccountType();this.logBackgroundTask("DsbManager_pendRefresh_Start_".concat(t,"_reason_").concat(i));f!=0?(f!=1||((r=this._msb_dsbViewModel)===null||r===void 0?void 0:r.isEnabled()))&&((u=this.selectDsbViewModel())===null||u===void 0?void 0:u.refresh(t,i)):this.mergePendingRefresh(t,i);this.logBackgroundTask("DsbManager_pendRefresh_End_".concat(t,"_reason_").concat(i))},e.prototype.mergePendingRefresh=function(n,t){if(this.logBackgroundTask("DsbManager_mergePendingRefresh_Start"),this.pendingRefreshParameters){var i=this.pendingRefreshParameters,r=i.strategy,u=i.reason;r&1&&(n|=1,t==2&&(t=u));(r&6)==2&&(n=n&-7|2)}this.pendingRefreshParameters={strategy:n,reason:t};this.logBackgroundTask("DsbManager_mergePendingRefresh_End")},e.prototype.flushPendingRefresh=function(){var t,f=n.AccessTokenManager.getWindowsAccountType();if(f!=0&&this.pendingRefreshParameters){var i=this.pendingRefreshParameters,r=i.strategy,u=i.reason;this.pendingRefreshParameters=null;(t=this.selectDsbViewModel())===null||t===void 0?void 0:t.refresh(r,u)}},e.prototype.selectDsbViewModel=function(t){var r,i=null,u=n.AccessTokenManager.getWindowsAccountType();if(u==1?((r=this._msb_dsbViewModel)===null||r===void 0?void 0:r.isEnabled())&&(i=this._msb_dsbViewModel):u!=0&&(i=this._dsbViewModel),i!==this.previouslySelectedViewModel){this.previouslySelectedViewModel=i;this.onViewModelChanged(i)}else t&&this.setDsbVisibility();return i},e.prototype.onViewModelChanged=function(n){this.setDsbVisibility();this.setViewModelUpdateInterval(n)},e.prototype.onBackgroundTask=function(){this.pendRefresh(this.appShown?7:3,1)},e.prototype.setViewModelUpdateInterval=function(n){var t=n===null||n===void 0?void 0:n.getUpdateIntervalMins(),i;t!=null&&(i=this.setDynamicSearchBoxUpdateInterval(t))},e.prototype.setViewModelDynamicSearchBoxContent=function(t){var e,i,o,u;return __awaiter(this,void 0,void 0,function(){var s,c,h,l;return __generator(this,function(a){switch(a.label){case 0:return[4,r.lock()];case 1:a.sent();this.logBackgroundTask("DsbManager_setViewModelDynamicSearchBoxContent_Start");a.label=2;case 2:if(a.trys.push([2,,14,15]),n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.disableDSBSearchBoxContent)return[2];if(s=t===null||t===void 0?void 0:t.getDynamicSearchBoxContent(),n.areDynamicSearchBoxContentEqual(s,this.previousDynamicSearchBoxContent))return[2];if(this.previousDynamicSearchBoxContent=s,!s)return[3,10];c=s.gleamFormat;h=s.parameters;l=c;switch(l){case 0:return[3,3];case 1:return[3,5]}return[3,7];case 3:return[4,this.setDynamicSearchBoxContentRawData(h)];case 4:return a.sent(),[3,9];case 5:return[4,this.setDynamicSearchBoxContentUrl(h)];case 6:return a.sent(),[3,9];case 7:return[4,this.setDynamicSearchBoxContentUrl(f)];case 8:return a.sent(),[3,9];case 9:return[3,13];case 10:return this.logBackgroundTask("DsbManager_no_vm_selected"),[4,(i=(e=SearchAppWrapper.CortanaApp).clearDynamicContent)===null||i===void 0?void 0:i.call(e)];case 11:return a.sent(),[4,(u=(o=SearchAppWrapper.CortanaApp).removeDynamicSearchBoxContent)===null||u===void 0?void 0:u.call(o)];case 12:a.sent();this.previousDynamicSearchBoxContent=undefined;a.label=13;case 13:return this.logBackgroundTask("DsbManager_setViewModelDynamicSearchBoxContent_End"),[3,15];case 14:return r.release(),[7];case 15:return[2]}})})},e.prototype.getInstrumentedProps=function(){var n,t;return(t=(n=this.selectDsbViewModel())===null||n===void 0?void 0:n.getInstrumentProps())!==null&&t!==void 0?t:[]},e.prototype.logBackgroundTask=function(t){n.config.enableBackgroundTaskLogging&&n.safeExecute(function(){SearchAppWrapper.CortanaApp.logMeasure("Bing_QF_BackgroundTask_lifecycle",0,t,JSON.stringify({}),"")},"logBackgroundTask")},e}();n.DynamicSearchManager=e}(WSB||(WSB={}));var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e},WSB;(function(n){var u=360,f=15,t=6e4,e=15*t,o=new Date("2010-01-01"),i={GleamKey:"",GleamText:"",GleamFormat:"",LightGleamBlob:"",DarkGleamBlob:"",LightGleamUrl:"",DarkGleamUrl:""},r=n.config.dsbCacheKey,s=function(){function s(t,i){var r=this;this._page=t;this._storage=i;this.contentCache={cacheTime:0,response:null};this.dynamicSearchBoxContent=null;this.hasPendingGleamUpdate=!1;this.kValue=n.InstrumentationCommon.KVALUE_DSB_CONTENT;this.isVisible=!1;this.loadDynamicSearchContentFromCache();n.Host.bindDismissed(function(){r.renderOnDismissReason!=null&&(r.render(),r.renderOnDismissReason==1&&n.dsbManager.allowSuspension(),r.renderOnDismissReason=null);var t=document===null||document===void 0?void 0:document.activeElement;t&&t.blur()})}return s.prototype.isEnabled=function(){return!0},s.prototype.getUpdateIntervalMins=function(){return(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.dsbUpdateInterval)?n.TestHookUrlParameters.dsbUpdateInterval:(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.rotateGleam)?f:u},s.prototype.getDynamicSearchBoxContent=function(){return this.dynamicSearchBoxContent},s.prototype.loadDynamicSearchContentFromCache=function(){var i;if((n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?!void 0:!n.TestHookUrlParameters.disableDSBCache)&&(i=this._storage.getItem(r),i)){this.contentCache=JSON.parse(i);var u=this.contentCache,f=u.cacheTime,e=u.response,o=f+this.getUpdateIntervalMins()*t;n.getCurrentTime()<o&&(this.dataModel=this.parseResponse(e),this.dataModel.sections=this.dataModel.sections.map(function(t){var i;return t.sectionView=n.config.enableDSBSchemaV1&&t.props.UXTemplateName?n.View.DSB.Templates[(i=t.props)===null||i===void 0?void 0:i.UXTemplateName]:n.View.DSB[t.props.scenario],t}),this.setGleamData(e.gleamData,f,!1),this.hasPendingGleamUpdate=!0)}},s.prototype.setDynamicSearchContentToCache=function(t){(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.disableDSBCache)||this._storage.setItem(r,JSON.stringify(t))},s.prototype.getInstrumentProps=function(){return this.instrumentedProps},s.prototype.parseResponse=function(t){var i=this,e=[],f,s,o,r,u=[];return this.kValue=n.InstrumentationCommon.KVALUE_DSB_CONTENT,n.config.enableDSBSchemaV1&&t.SchemaVersion=="1.0"?(f=[],t.Data.sort(function(n,t){return n.UXOrder-t.UXOrder}),t.Data.map(function(h){var c=h.CardType;h.Cards.forEach(function(l){var a,v,y,p,w,b=n.View.DSB.Templates[l.UXTemplateName];if(!b)return SharedLogHelper.LogError("Exception","No view for UXTemplateName: "+l.UXTemplateName),null;o=i.createInstrumentedItemsFromCard(l);u=[];((a=l.FieldsStore)===null||a===void 0?void 0:a.Items)?i.createInstrumentedSubItemsFromCard(l.Scenario,l.FieldsStore.Items,u,l.HandOffType,l.QSCode):((v=l.FieldsStore)===null||v===void 0?void 0:v.WholePageTabs)&&i.createInstrumentedSubItemsFromCard("WholePageTabs",l.FieldsStore.WholePageTabs.Items,u,l.FieldsStore.WholePageTabs.HandOffType,l.FieldsStore.WholePageTabs.QSCode);c=="Hero"&&((y=l.FieldsStore)===null||y===void 0?void 0:y.GleamData)&&(s=(w=(p=l.FieldsStore)===null||p===void 0?void 0:p.GleamData)===null||w===void 0?void 0:w.FieldsStore);r=__assign(__assign({},l),{id:l.Scenario+Math.random().toString(16).substring(2),instrumentedItem:o,subItemInstrumentedItems:u,imageHostName:t.ImageHostName,scenario:l.Scenario,UXTemplateName:l.UXTemplateName});e.push(r);r.onHoverHandler=i.createOnHoverHandler(l.Scenario);f.push({sectionView:b,props:r,cardType:h.CardType,numOfCards:h.NumOfCards})})}),this.instrumentedProps=e,{sections:f,gleamData:s,imageHostName:t.ImageHostName}):(f=t.scenarios.map(function(f){var s=n.View.DSB[f.scenario];return s?(o=i.createInstrumentedItems(f.scenario,f===null||f===void 0?void 0:f.ClickThroughUrl),u=[],f.items?i.createInstrumentedSubItems(f.scenario,f.items,u):f.wholePageTabsData&&i.createInstrumentedSubItems("WholePageTabs",f.wholePageTabsData,u),r=__assign(__assign({},f),{id:f.scenario+Math.random().toString(16).substring(2),instrumentedItem:o,subItemInstrumentedItems:u,imageHostName:t.imageHostName}),e.push(r),r.onHoverHandler=i.createOnHoverHandler(f.scenario),{sectionView:s,props:r}):(n.log("no view for scenario '".concat(f.scenario,"'")),null)}).filter(function(n){return!!n}),this.instrumentedProps=e,{sections:f,gleamData:t.gleamData,imageHostName:t.imageHostName})},s.prototype.createInstrumentedItems=function(t,i){if(t=="CustomContent"){var r=0;return r=(i===null||i===void 0?void 0:i.toLowerCase().indexOf("bing.com"))>-1?0:(i===null||i===void 0?void 0:i.toLowerCase().indexOf("msn.com"))>-1?20:19,n.InstrumentedItem.createInstrumentedItemKvalueOverride(this.kValue++,t,r)}return n.InstrumentedItem.createInstrumentedItemKvalueOverride(this.kValue++,t,n.SyntheticQSCodesMaps.HandoffsForDSBScenarios[t])},s.prototype.getInstrumentationScenarioName=function(n){switch(n){case"KnowledgeCard":return"KC_HeroCard";case"ImageOfTheDay":return"HeroCardOfTheDay";default:return n}},s.prototype.createInstrumentedItemsFromCard=function(t){var f,r=0,i,u;return t.Scenario=="CustomContent"?(i=(f=t===null||t===void 0?void 0:t.FieldsStore)===null||f===void 0?void 0:f.ClickThroughUrl,r=(i===null||i===void 0?void 0:i.toLowerCase().indexOf("bing.com"))>-1?0:(i===null||i===void 0?void 0:i.toLowerCase().indexOf("msn.com"))>-1?20:19):r=t.HandOffType,t.Scenario=this.getInstrumentationScenarioName(t.Scenario),u=n.InstrumentedItem.createInstrumentedItemKvalueOverride(this.kValue++,t.Scenario,r),t.QSCode&&(r==20?u.setProperty("ocid",t.QSCode):r==0&&u.setProperty("form",t.QSCode)),u},s.prototype.createInstrumentedSubItemsFromCard=function(t,i,r,u,f){for(var e,o=0;o<i.length;o++)e=n.InstrumentedItem.createInstrumentedItemKvalueOverride(this.kValue++,t,u),u==20?e.setProperty("ocid",f):u==0&&e.setProperty("form",f),i[o].instrumentedItem=e,r.push(e)},s.prototype.createInstrumentedSubItems=function(t,i,r){for(var f,u=0;u<i.length;u++)f=n.InstrumentedItem.createInstrumentedItemKvalueOverride(this.kValue++,t,n.SyntheticQSCodesMaps.HandoffsForDSBScenarios[t]),i[u].instrumentedItem=f,r.push(f)},s.prototype.composeDSBUrlParams=function(t){n.TestHookUrlParameters&&(t=n.UrlParameters.copyTestParametersTo(t),n.TestHookUrlParameters.dsbBag&&(t=ThresholdUtilities.setUrlParameter(t,"bag",encodeURIComponent(n.TestHookUrlParameters.dsbBag))),n.TestHookUrlParameters.dsbMockDateTimeParam&&(t=ThresholdUtilities.setUrlParameter(t,"dsbMockDateTime",encodeURIComponent(n.TestHookUrlParameters.dsbMockDateTimeParam))),n.TestHookUrlParameters.dsbScenario&&(t=ThresholdUtilities.setUrlParameter(t,"dsbScenario",encodeURIComponent(n.TestHookUrlParameters.dsbScenario))),n.TestHookUrlParameters.dsbSchemaVersionParam&&(t=ThresholdUtilities.setUrlParameter(t,"dsbSchemaVersion",encodeURIComponent(n.TestHookUrlParameters.dsbSchemaVersionParam))));var i=n.getCurrentDate(),r=i.toLocaleString("en-US");return i<o&&n.log("getCurrentDate() return incorrect time! getCurrentDate(): '".concat(r,"' ")),t=ThresholdUtilities.setUrlParameter(t,"clientDateTime",encodeURIComponent(r)),t=ThresholdUtilities.setUrlParameter(t,"cc",n.Host.getRegion()),t=ThresholdUtilities.setUrlParameter(t,"setlang",n.getCurrentLanguage()),n.config.enableDSBSchemaV1&&(t=ThresholdUtilities.setUrlParameter(t,"dsbschemaversion",n.config.DSBSchemaVersion)),t},s.prototype.isValidDSBContent=function(t){if(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.isTest)return!0;if(!t)return this.instrumentDSBFallback(0,t),!1;if(n.config.enableDSBSchemaV1){if(!t.Data||t.Data.length==0)return this.instrumentDSBFallback(1,t),!1}else if(!t.scenarios||t.scenarios.length==0)return this.instrumentDSBFallback(1,t),!1;return!0},s.prototype.fetch=function(){var t,i;return __awaiter(this,void 0,void 0,function(){var r,o,e,u,f,s;return __generator(this,function(h){switch(h.label){case 0:r="/DSB";r=this.composeDSBUrlParams(r);o=n.getCurrentTime();h.label=1;case 1:return h.trys.push([1,6,,7]),[4,fetch(r,{headers:n.Host.getCustomHeaders(null)})];case 2:return(e=h.sent(),!e.ok)?[3,4]:[4,e.json()];case 3:return(u=h.sent(),!this.isValidDSBContent(u))?(n.log("Invalid DSB content returned from '".concat(r,"'")),[2,!1]):(this.dataModel=this.parseResponse(u),f=n.getCurrentTime(),this.contentCache={cacheTime:f,response:u},this.instrumentFetch(o,f),this.setDynamicSearchContentToCache(this.contentCache),this.instrumentGleam((t=this.dataModel)===null||t===void 0?void 0:t.gleamData,!0),this.setGleamData((i=this.dataModel)===null||i===void 0?void 0:i.gleamData,f,!0),this.hasPendingGleamUpdate=!1,[2,!0]);case 4:n.log("failed to fetch dsb from '".concat(r,"'"));this.instrumentDSBFallback(4,null);h.label=5;case 5:return[3,7];case 6:return s=h.sent(),n.log("failed to fetch dsb from '".concat(r,"': ").concat(s)),this.instrumentDSBFallback(5,null),[3,7];case 7:return[2,!1]}})})},s.prototype.getSelectableItems=function(){var n,t,i,r;if(!this.selectableElementGroups)return[];for(n=[],t=0,i=this.selectableElementGroups;t<i.length;t++)r=i[t],n.push.apply(n,r);return n},s.prototype.getSelectableItemsByGroup=function(){var n;return(n=this.selectableElementGroups)!==null&&n!==void 0?n:[]},s.prototype.createOnClickHandler=function(t){return function(i){i.keyCode==13&&(i.preventDefault(),t.click(),n.Host.setFocusInSearchBox(null,"DSB_KeyToClick"))}},s.prototype.buildInteractionModel=function(){var e,u,f,r,t,o,i;if(this.selectableElementGroups=[],u=(e=n.StaticHtmlElements.dynamicPane.children[0])===null||e===void 0?void 0:e.children,u)for(f=0;f<u.length;++f){for(r=[],t=u.item(f),t.getAttribute("tabindex")=="-1"&&(r.push({id:t.id,selected:!1,text:null,dsb:!0}),t.onkeypress||(t.onkeypress=this.createOnClickHandler(t))),o=document.evaluate("//*[@id='".concat(t.id,"']//*[@tabindex='-1']"),t,null,XPathResult.ANY_TYPE,null),i=o.iterateNext();i;i=o.iterateNext())r.push({id:i.id,selected:!1,text:null,dsb:!0}),i.onkeypress||(i.onkeypress=this.createOnClickHandler(i));r.length>0&&this.selectableElementGroups.push(r)}},s.prototype.setGleamData=function(r,u,f){var e=u+this.getUpdateIntervalMins()*t;if(r){var a=r.GleamFormat,o=r.GleamText,s=r.LightGleamUrl,h=r.DarkGleamUrl,v=r.LightGleamBlob,y=r.DarkGleamBlob,c=r.GleamSize,l=r.TargetSurface;this.dynamicSearchBoxContent=a!=="png"&&s&&h?{gleamFormat:1,parameters:{placeholderText:o,lightGleamDataOrUrl:s,darkGleamDataOrUrl:h,expirationTime:e,gleamSize:c,targetSurface:l}}:{gleamFormat:0,parameters:{placeholderText:o,lightGleamDataOrUrl:v,darkGleamDataOrUrl:y,expirationTime:e,gleamSize:c,targetSurface:l}};f&&this.instrumentGleam(r)}else this.dynamicSearchBoxContent={gleamFormat:1,parameters:{placeholderText:i.GleamText,lightGleamDataOrUrl:i.LightGleamUrl,darkGleamDataOrUrl:i.DarkGleamUrl,expirationTime:e}},f&&this.instrumentGleam(i);f&&n.dsbManager.updateDynamicSearchBoxContent()},s.prototype.render=function(){this._page.updateDynamicSearchView(this.dataModel);this.buildInteractionModel()},s.prototype.refresh=function(i,r){var u,f,o;return __awaiter(this,void 0,void 0,function(){var h,s,c;return __generator(this,function(l){switch(l.label){case 0:return(h=((u=this.contentCache)===null||u===void 0?void 0:u.cacheTime)+this.getUpdateIntervalMins()*t,s=!1,((f=this.contentCache)===null||f===void 0?void 0:f.cacheTime)&&n.getCurrentTime()>=h&&(this.dataModel=null,this.selectableElementGroups=[],this.dynamicSearchBoxContent=null,s=!0),c=((o=this.contentCache.cacheTime)!==null&&o!==void 0?o:0)+e,!((!this.dataModel||i&1)&&(r!=2||n.getCurrentTime()>c)))?[3,2]:[4,this.fetch()];case 1:s=!l.sent();l.label=2;case 2:return(this.hasPendingGleamUpdate&&(this.hasPendingGleamUpdate=!1,s=!0),!s)?[3,4]:(n.dsbManager.logBackgroundTask("DsbViewModel_trigger_update"),[4,n.dsbManager.updateDynamicSearchBoxContent()]);case 3:l.sent();l.label=4;case 4:return(i&6)==6?this.renderOnDismissReason=r:i&2&&this.render(),r==1&&(n.dsbManager.logBackgroundTask("DsbViewModel_allowSuspension_called"),n.dsbManager.allowSuspension()),n.dsbManager.logBackgroundTask("DsbViewModel_refresh_completed."),[2]}})})},s.prototype.setVisibility=function(t){this.isVisible=t;n.setVisibility(n.StaticHtmlElements.dynamicPane,t);this.isVisible&&this.startDwellTime==null&&(this.startDwellTime=Date.now());this.startDwellTime==null||this.isVisible||(this.endDwellTime=Date.now(),this.instrumentDSBDwellTime(this.startDwellTime,this.endDwellTime),this.startDwellTime=null,this.endDwellTime=null)},s.prototype.instrumentDSBDwellTime=function(t,i){var r=i-t;r>1e3&&n.InstrumentationHelper.logClientInstEvent("ClientInst","DwellTime",n.SequenceNumberManager.getSequenceNumber(),{DwellTime:r.toString()})},s.prototype.getVisibility=function(){return this.isVisible},s.prototype.hasContent=function(){var n,t;return((t=(n=this.dataModel)===null||n===void 0?void 0:n.sections)===null||t===void 0?void 0:t.length)>0},s.prototype.instrumentGleam=function(t,i){var r={gleamData:{text:!t||t.GleamText==""?"defaultGleamText":t.GleamText,key:!t||!t.GleamKey||t.GleamKey==""?"defaultGleamKey":t.GleamKey},isNewDSBContentFetched:i};n.InstrumentationHelper.instrumentDSBEvent(r)},s.prototype.instrumentDSBFallback=function(t,i){var r={DSBFallback:{errorType:t.toString(),response:JSON.stringify(i)}};n.InstrumentationHelper.instrumentDSBEvent(r)},s.prototype.instrumentFetch=function(t,i){var r=i-t,u={DSBFetchDelay:{timeDifference:r.toString()}};n.InstrumentationHelper.instrumentDSBEvent(u)},s.prototype.createOnHoverHandler=function(t){return function(){n.InstrumentationHelper.logClientInstEvent("ClientInst","DSBHover",n.SequenceNumberManager.getSequenceNumber(),{scenario:t})}},s}();n.DynamicSearchViewModel=s})(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.idPattern=/([^&]*)/,n}return __extends(r,i),r.prototype.getTitle=function(){return n.Host.getLocString("DSBOnThisDay").replace("{0}","")},r.prototype.getDsbScenario=function(){return 1},r.prototype.getThumbnailId=function(n){if(n!==null&&n!==void 0)return n.match(this.idPattern)[0]},r.prototype.click=function(t){var i="".concat(location.origin).concat(this.props.requeryUrl);n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.getSecondaryText=function(){return"".concat(this.props.year).concat(n.config.useCobaltCSS?" - ".concat(this.props.NameKeyInResponse):"")},r.prototype.render=function(){var r=this,i=this.props,u=i.id,f=i.thumbnailId,e=i.isTwoCta,o=i.NameKeyInResponse,s=i.year,h={backgroundImage:"url(".concat(n.generateBingThumbnailUrlFromId(this.getThumbnailId(f),{dsbSection:1,dsbScenario:this.getDsbScenario(),isWindows11:n.config.useCobaltCSS,isTwoCta:e},this.props.imageHostName),")")},c="".concat(this.getTitle(),", ").concat(this.getSecondaryText());return React.createElement("div",{id:u,className:"dsb-cta dsb-otd selectable focusable",tabIndex:-1,"aria-label":c,role:"link",onClick:function(n){return r.click(n.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.OnThisDay"),onMouseEnter:function(){r.props.onHoverHandler()},title:"".concat(this.getTitle(),"\n").concat(s,"-").concat(o)},React.createElement("div",{className:"dsb-cta__img",style:h}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__title"},React.createElement("div",{className:"dsb-cta__title_primary"},this.getTitle()),React.createElement("div",{className:"dsb-cta__title_secondary"},this.getSecondaryText()))))},r}(React.Component);i.OnThisDay=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i=this.props.requeryLink;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.render=function(){var o=this,i=this.props,s=i.id,r=i.wordFormType,u=i.pronunciation,f=i.HeadWord,h=i.Definition,e=n.Host.getLocString("DSBWordOfTheDay"),c="".concat(e,", ").concat(f,", ").concat(r),l=n.getTooltips(e,f,u,r);return React.createElement("div",{id:s,className:"dsb-cta dsb-wotd selectable focusable",tabIndex:-1,"aria-label":c,role:"link",onClick:function(n){return o.click(n.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.WholePageTabs"),onMouseEnter:function(){o.props.onHoverHandler()},title:"".concat(l)},React.createElement("div",{className:"dsb-cta__img"}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__main"},React.createElement("div",{className:"dsb-cta__header"},f),u&&React.createElement("div",{className:"dsb-wotd__pronunciation"},"[",u,"]"),React.createElement("div",{className:"dsb-wotd__form"},r),React.createElement("div",{className:"dsb-wotd__definition"},h)),React.createElement("div",{className:"dsb-cta__title"},React.createElement("div",{className:"dsb-cta__title_primary"},e))))},r}(React.Component);i.WordOfTheDay=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i=this.props.bingLandingUrl;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.addQuotes=function(t){return n.Host.getLocString("Quotes").replace("{0}",t)},r.prototype.render=function(){var e=this,i=this.props,o=i.id,r=i.quoteText,u=i.authorName,f=n.Host.getLocString("DSBQuoteOfTheDay"),s="".concat(f,", ").concat(r,", ").concat(u);return React.createElement("div",{id:o,className:"dsb-cta dsb-qotd selectable focusable",tabIndex:-1,"aria-label":s,role:"link",onClick:function(n){return e.click(n.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.QuoteOfTheDay"),onMouseEnter:function(){e.props.onHoverHandler()},title:"".concat(f,":\n").concat(u,"\n").concat(this.addQuotes(r))},React.createElement("div",{className:"dsb-cta__img"}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__main"},this.addQuotes(r)),React.createElement("div",{className:"dsb-cta__title"},React.createElement("div",{className:"dsb-cta__title_primary"},f),React.createElement("div",{className:"dsb-cta__title_secondary"},u))))},r}(React.Component);i.QuoteOfTheDay=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=4,u=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return __extends(f,u),f.prototype.click=function(t,i,r){var u="".concat(location.origin,"/images/search?q=").concat(i);n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),r,t)},f.prototype.getDsbScenario=function(){return 5},f.prototype.imgSyle=function(t){var i=n.extractThumbnailIdFromUrl(t.imageUrl);return{backgroundImage:"url(".concat(n.generateBingThumbnailUrlFromId(i,{dsbSection:2,dsbScenario:this.getDsbScenario(),isWindows11:n.config.useCobaltCSS},this.props.imageHostName),")")}},f.prototype.shortCategoryName=function(n){return n=n===null||n===void 0?void 0:n.toLowerCase(),n.indexOf("people")>-1?n="People":n.indexOf("animal")>-1?n="Animals":n.indexOf("wallpaper")>-1?n="Wallpapers":n.indexOf("nature and landmark")>-1&&(n="Nature and landmarks"),n},f.prototype.render=function(){var u=this,f=n.Host.getLocString("DSBTrendingImagesTitle"),e=this.props,s=e.items,o=e.id;return React.createElement("div",{id:o,className:"dsb-trending-images focusable","data-region":"TrendingImages","aria-label":f,"data-partnertag":t.whenTestHooks("DSB.TrendingImages")},React.createElement("div",{className:"dsb-trending-images__header"},React.createElement(i.TrendingIcon,null),React.createElement("span",null,f)),React.createElement("div",{className:"dsb-trending-images__container"},s.slice(0,r).map(function(n){var t,i="".concat(o,"_").concat(n.query);return React.createElement("div",{id:i,key:i,className:"dsb-trending-images__images-container focusable",tabIndex:-1,role:"link",onClick:function(t){return u.click(t.nativeEvent,n.query,n.instrumentedItem)},"data-h":(t=n.instrumentedItem)===null||t===void 0?void 0:t.getHValue(),onMouseEnter:function(){u.props.onHoverHandler()},title:u.shortCategoryName(n.categoryName)},React.createElement("div",{className:"dsb-trending-images__image",style:u.imgSyle(n)}),React.createElement("div",{className:"dsb-trending-images__image-title"},u.shortCategoryName(n.categoryName)))})))},f}(React.Component);i.TrendingImages=u})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var t;(function(n){var o=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return React.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"currentColor",d:"M6.75 0L11.2982 0.00144196L11.4058 0.015934L11.519 0.0491095L11.6206 0.0968704L11.6592 0.120347L11.7079 0.154787L11.784 0.221784L11.8682 0.322976L11.9266 0.422698L11.9681 0.528118L11.9912 0.625475L12.0015 0.75V5.25389C12.0015 5.6681 11.6657 6.00389 11.2515 6.00389C10.8718 6.00389 10.558 5.72174 10.5084 5.35566L10.5015 5.25389L10.501 2.561L6.28044 6.78411C6.01407 7.0506 5.59709 7.07473 5.30344 6.85658L5.21931 6.78386L3.74855 5.31112L1.28044 7.78022C0.987601 8.07318 0.512728 8.07327 0.219776 7.78044C-0.0465439 7.51422 -0.0708331 7.09756 0.146963 6.80391L0.219564 6.71978L3.21836 3.71978C3.48474 3.45329 3.90171 3.42916 4.19536 3.64731L4.27949 3.72003L5.75024 5.19276L9.441 1.5H6.75C6.3703 1.5 6.05651 1.21785 6.00685 0.85177L6 0.75C6 0.335786 6.33579 0 6.75 0Z"}))},t}(React.Component),t,i,r,u,f,e;n.TrendingIcon=o;t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return React.createElement("svg",{width:"12",height:"14",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"currentColor",d:"M12 6.11133C12 5.55078 11.9286 5.01074 11.7857 4.49121C11.6429 3.97168 11.442 3.48405 11.183 3.02832C10.9241 2.57259 10.6094 2.16016 10.2389 1.79102C9.86834 1.42188 9.46433 1.10286 9.02683 0.833984C8.58934 0.565104 8.11167 0.360026 7.59382 0.21875C7.07597 0.077474 6.54473 0.00455729 6.0001 0C5.451 0 4.92199 0.0729167 4.41307 0.21875C3.90415 0.364583 3.42648 0.569661 2.98006 0.833984C2.53364 1.09831 2.12739 1.41732 1.76133 1.79102C1.39526 2.16471 1.08277 2.57715 0.823844 3.02832C0.564919 3.47949 0.361798 3.96484 0.214479 4.48438C0.0671597 5.00391 -0.00426769 5.54622 0.000196457 6.11133C0.000196457 6.52148 0.0403748 6.92708 0.12073 7.32812C0.201086 7.72917 0.317156 8.11654 0.468939 8.49023C0.620723 8.86393 0.808219 9.2194 1.03143 9.55664C1.25464 9.89388 1.51133 10.2083 1.80151 10.5L4.80146 13.501C4.96217 13.6605 5.1452 13.7835 5.35056 13.8701C5.55591 13.9567 5.77242 14 6.0001 14C6.22777 14 6.44429 13.9567 6.64964 13.8701C6.855 13.7835 7.03803 13.6605 7.19874 13.501L10.1987 10.5C10.4889 10.2129 10.7456 9.90072 10.9688 9.56348C11.192 9.22624 11.3795 8.86849 11.5313 8.49023C11.683 8.11198 11.7991 7.72461 11.8795 7.32812C11.9598 6.93164 12 6.52604 12 6.11133ZM3.42871 6.125V6.07031C3.42871 5.71484 3.49791 5.38216 3.6363 5.07227C3.77469 4.76237 3.96219 4.48893 4.19879 4.25195C4.43539 4.01497 4.70771 3.83268 5.01574 3.70508C5.32377 3.57747 5.65189 3.50911 6.0001 3.5C6.35724 3.5 6.69205 3.56836 7.00455 3.70508C7.31704 3.8418 7.58936 4.02865 7.8215 4.26562C8.05364 4.5026 8.23667 4.7806 8.3706 5.09961C8.50452 5.41862 8.57148 5.76042 8.57148 6.125C8.57148 6.48958 8.50452 6.83138 8.3706 7.15039C8.23667 7.4694 8.05364 7.7474 7.8215 7.98438C7.58936 8.22135 7.31704 8.4082 7.00455 8.54492C6.69205 8.68164 6.35724 8.75 6.0001 8.75C5.64296 8.75 5.30815 8.68164 4.99565 8.54492C4.68316 8.4082 4.41084 8.22135 4.1787 7.98438C3.94656 7.7474 3.76353 7.4694 3.6296 7.15039C3.49568 6.83138 3.42871 6.48958 3.42871 6.125Z"}))},t}(React.Component);n.IotdLocalIcon=t;i=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return React.createElement("svg",{width:"57",height:"18",viewBox:"0 0 38 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"currentColor",d:"M34.7338 1.92317V1.3876H34.0674V0.561687L33.4063 0.761979V1.38737H32.4256V1.05142C32.4256 0.883437 32.4627 0.756708 32.5366 0.671229C32.6117 0.58575 32.7171 0.542667 32.8553 0.542667C32.9257 0.542667 32.9888 0.551604 33.0432 0.569708C33.0982 0.587812 33.1362 0.602937 33.1578 0.615542V0.0495C33.1109 0.0332292 33.0558 0.020625 32.9946 0.0126042C32.9331 0.00458333 32.862 0 32.7823 0C32.4825 0 32.2377 0.0935 32.0464 0.2805C31.8548 0.4675 31.7592 0.707437 31.7592 0.999396V1.38669H31.2916V1.92225H31.7592V4.169H32.4256V1.92225H33.4072V3.35385C33.4072 3.6504 33.4758 3.87154 33.6149 4.0189C33.7531 4.16533 33.9617 4.23912 34.2387 4.23912C34.3336 4.23912 34.4293 4.22927 34.5258 4.20933C34.6225 4.18962 34.6919 4.16785 34.7335 4.14471V3.60273C34.6937 3.62794 34.6467 3.64948 34.5935 3.66735C34.5403 3.68546 34.4943 3.6944 34.4563 3.6944C34.3218 3.6944 34.2233 3.65842 34.1611 3.58829C34.0987 3.51725 34.0671 3.39694 34.0671 3.22529V1.92317H34.7338ZM14.3435 7.5554V7.54462C14.5623 7.47679 14.7336 7.36267 14.8572 7.20202C14.9809 7.04137 15.0428 6.85231 15.0428 6.6346C15.0428 6.37404 14.9334 6.16252 14.7147 6.00027C14.4978 5.83802 14.2028 5.75667 13.8298 5.75667H12.6062V9.59521H13.8434C14.2397 9.59521 14.5678 9.49346 14.8277 9.29019C15.0877 9.08669 15.2178 8.82085 15.2178 8.49246C15.2178 8.22846 15.1379 8.01419 14.9783 7.8501C14.8206 7.68373 14.6088 7.58565 14.3435 7.5554V7.5554ZM13.2435 6.26794H13.7089C14.1501 6.26794 14.3704 6.43202 14.3704 6.76042C14.3704 6.95131 14.3069 7.09935 14.1796 7.20477C14.0541 7.30835 13.8802 7.35992 13.6578 7.35992H13.2435V6.26794ZM14.341 8.92306C14.2118 9.03192 14.028 9.08623 13.7895 9.08623H13.2435V7.87096H13.7061C14.2601 7.87096 14.5372 8.06987 14.5372 8.46771C14.5372 8.6609 14.4718 8.81237 14.341 8.92306V8.92306ZM17.885 0.958833C17.9969 0.958833 18.0926 0.921937 18.1702 0.850208C18.2488 0.77825 18.2877 0.688417 18.2877 0.582312C18.2877 0.477125 18.2488 0.387292 18.173 0.312583C18.0973 0.237875 18.0015 0.200292 17.885 0.200292C17.7758 0.200292 17.6819 0.237187 17.6031 0.309833C17.5246 0.383625 17.4848 0.473229 17.4848 0.582083C17.4848 0.686354 17.5237 0.775271 17.6003 0.849062C17.6782 0.922167 17.7728 0.958833 17.885 0.958833ZM20.0612 4.23729C20.221 4.23729 20.3672 4.22194 20.501 4.19146C20.6336 4.16075 20.7538 4.11515 20.8586 4.05579V3.44644C20.7584 3.52115 20.6499 3.58027 20.5316 3.62519C20.4142 3.6701 20.3057 3.69256 20.2083 3.69256C19.9447 3.69256 19.737 3.61442 19.5834 3.4579C19.43 3.30069 19.3531 3.08137 19.3531 2.79996C19.3531 2.5151 19.4325 2.28846 19.5926 2.12048C19.7524 1.9525 19.9619 1.86885 20.221 1.86885C20.331 1.86885 20.4404 1.88948 20.5461 1.93004C20.6527 1.9706 20.7556 2.0279 20.8576 2.10169V1.47377C20.7826 1.43229 20.6833 1.39562 20.5569 1.36423C20.4314 1.33283 20.3066 1.31656 20.183 1.31656C19.7008 1.31656 19.3278 1.46117 19.065 1.7506C18.8023 2.04096 18.6704 2.40946 18.6704 2.85702C18.6704 3.25967 18.7996 3.59035 19.057 3.84908C19.3153 4.10781 19.6492 4.23729 20.0612 4.23729V4.23729ZM15.6852 9.59498H16.3093V6.85415H15.6852V9.59498ZM27.3545 2.53962C27.1496 2.45873 27.017 2.39135 26.9573 2.33842C26.8977 2.28433 26.868 2.21077 26.868 2.11727C26.868 2.03179 26.9023 1.96556 26.9737 1.91515C27.0432 1.86656 27.1408 1.84227 27.2663 1.84227C27.381 1.84227 27.4957 1.8629 27.6122 1.90438C27.7278 1.94654 27.8298 1.99604 27.9166 2.05356V1.43069C27.8353 1.39654 27.7342 1.36858 27.6122 1.34704C27.4901 1.3255 27.3801 1.31473 27.2827 1.31473C26.964 1.31473 26.704 1.39562 26.5035 1.55742C26.3029 1.71829 26.2027 1.925 26.2027 2.17571C26.2027 2.37073 26.2541 2.53069 26.3554 2.65742C26.4565 2.78415 26.629 2.89827 26.8719 2.99887C27.0759 3.08069 27.2159 3.15242 27.2889 3.21452C27.3621 3.27754 27.399 3.35385 27.399 3.44369C27.399 3.54085 27.3637 3.61075 27.2933 3.65223C27.2219 3.69371 27.1127 3.71433 26.9638 3.71433C26.8509 3.71433 26.7264 3.69004 26.5882 3.64146C26.45 3.59287 26.3218 3.52642 26.2018 3.44369V4.0881C26.2995 4.13119 26.4185 4.16717 26.5594 4.19512C26.6994 4.22308 26.8277 4.23729 26.9442 4.23729C27.2882 4.23729 27.5618 4.15823 27.7639 3.99919C27.9663 3.84015 28.0674 3.62977 28.0674 3.36829C28.0674 3.18221 28.0151 3.02408 27.9085 2.89277C27.8024 2.7626 27.6172 2.64481 27.3545 2.53962V2.53962ZM17.5527 4.169H18.211V1.38577H17.5527V4.169ZM22.7322 1.33994C22.5616 1.33994 22.4161 1.38302 22.2952 1.4685C22.1743 1.55398 22.0829 1.67246 22.0232 1.8244H22.0124V1.38577H21.3541V4.169H22.0124V2.76352C22.0124 2.4821 22.0684 2.27379 22.1794 2.13812C22.2903 2.00246 22.4269 1.93508 22.5885 1.93508C22.6834 1.93508 22.7635 1.94677 22.8296 1.96923C22.8955 1.99169 22.9461 2.01598 22.9804 2.04119V1.37775C22.9507 1.36698 22.9164 1.35804 22.8738 1.35071C22.8315 1.3436 22.7845 1.33994 22.7322 1.33994V1.33994ZM21.865 7.2341H21.8542C21.6785 6.93802 21.4087 6.78975 21.0446 6.78975C20.6592 6.78975 20.3561 6.92725 20.1355 7.20202C19.9149 7.47679 19.8047 7.84712 19.8047 8.31279C19.8047 8.72323 19.9069 9.05071 20.1111 9.29523C20.3174 9.53792 20.588 9.65937 20.9235 9.65937C21.3377 9.65937 21.6479 9.48452 21.854 9.13481H21.8648V9.43456C21.8648 10.0753 21.5376 10.3955 20.883 10.3955C20.6122 10.3955 20.3264 10.3097 20.025 10.1386V10.706C20.2921 10.8256 20.605 10.8854 20.9638 10.8854C21.9804 10.8854 22.4888 10.3822 22.4888 9.37567V6.85415H21.8648V7.2341H21.865ZM21.8703 8.3396C21.8703 8.58046 21.8031 8.77869 21.6686 8.93383C21.5342 9.08737 21.3594 9.16392 21.1441 9.16392C20.9325 9.16392 20.7621 9.08371 20.6331 8.92306C20.5058 8.76058 20.4423 8.54471 20.4423 8.27521C20.4423 7.96285 20.5086 7.7204 20.6412 7.54715C20.7757 7.37229 20.9613 7.28475 21.1977 7.28475C21.3896 7.28475 21.5491 7.3535 21.6767 7.491C21.8059 7.62667 21.8703 7.79075 21.8703 7.98348V8.3396ZM24.4956 1.32115C24.0314 1.32115 23.6685 1.4559 23.4073 1.72471C23.1465 1.99352 23.0154 2.35835 23.0154 2.81852C23.0154 3.25715 23.1428 3.60296 23.3974 3.85642C23.6521 4.10987 23.9961 4.2366 24.4295 4.2366C24.8792 4.2366 25.2349 4.10277 25.4961 3.83579C25.757 3.56881 25.888 3.20948 25.888 2.75825C25.888 2.31779 25.7652 1.96831 25.5196 1.70958C25.2741 1.45062 24.9326 1.32115 24.4956 1.32115V1.32115ZM25.0157 3.46271C24.8902 3.61625 24.7079 3.69279 24.4686 3.69279C24.2211 3.69279 24.0325 3.61648 23.8999 3.46271C23.7673 3.30894 23.7012 3.0871 23.7012 2.79675C23.7012 2.50113 23.7679 2.27287 23.9026 2.11292C24.0362 1.95296 24.2232 1.87298 24.4643 1.87298C24.6982 1.87298 24.8797 1.94929 25.0097 2.10215C25.1389 2.255 25.2039 2.48142 25.2039 2.78071C25.2036 3.0816 25.1412 3.30894 25.0157 3.46271V3.46271ZM18.4765 6.78975C18.0874 6.78975 17.7899 6.963 17.5835 7.30904H17.5727V6.85392H16.9462V9.59498H17.5727V8.0316C17.5727 7.81573 17.6347 7.63721 17.7583 7.49627C17.882 7.3535 18.039 7.28223 18.229 7.28223C18.5928 7.28223 18.7749 7.53821 18.7749 8.0504V9.59475H19.3989V7.91908C19.3989 7.55333 19.32 7.27398 19.1622 7.08125C19.0045 6.88692 18.7761 6.78975 18.4765 6.78975V6.78975ZM14.8038 3.16433H14.7875L13.667 0.286687H12.6962V4.169H13.3221V1.12612H13.3301L14.5708 4.169H15.0196L16.2305 1.12612H16.2413V4.169H16.9185V0.286687H15.9867L14.8038 3.16433ZM29.8296 1.32115C29.3654 1.32115 29.0025 1.4559 28.7414 1.72471C28.4805 1.99352 28.3495 2.35835 28.3495 2.81852C28.3495 3.25715 28.4768 3.60296 28.7315 3.85642C28.9862 4.10987 29.3302 4.2366 29.7635 4.2366C30.2132 4.2366 30.569 4.10277 30.8299 3.83579C31.091 3.56881 31.2218 3.20948 31.2218 2.75825C31.2218 2.31779 31.0991 1.96831 30.8534 1.70958C30.6079 1.4504 30.2667 1.32115 29.8296 1.32115V1.32115ZM30.3507 3.46271C30.2252 3.61625 30.0428 3.69279 29.8036 3.69279C29.5561 3.69279 29.3675 3.61648 29.2348 3.46271C29.102 3.30917 29.0361 3.0871 29.0361 2.79675C29.0361 2.50113 29.102 2.27287 29.2374 2.11292C29.3709 1.95296 29.5579 1.87298 29.799 1.87298C30.0329 1.87298 30.2144 1.94929 30.3445 2.10215C30.4737 2.255 30.5386 2.48142 30.5386 2.78071C30.5384 3.0816 30.4762 3.30894 30.3507 3.46271V3.46271ZM16 5.57196C15.8978 5.57196 15.8101 5.60587 15.7364 5.67371C15.6648 5.74154 15.6288 5.82633 15.6288 5.92808C15.6288 6.02983 15.6648 6.11371 15.7364 6.17971C15.8101 6.24571 15.8978 6.27871 16 6.27871C16.1057 6.27871 16.1955 6.24479 16.269 6.17696C16.3426 6.10729 16.3793 6.02433 16.3793 5.92808C16.3793 5.82633 16.3426 5.74154 16.269 5.67371C16.1953 5.60565 16.1057 5.57196 16 5.57196Z"}),React.createElement("path",{d:"M0 0H4.60526V4.58333H0V0Z",fill:"#F26522"}),React.createElement("path",{d:"M5.06577 0H9.67103V4.58333H5.06577V0Z",fill:"#8DC63F"}),React.createElement("path",{d:"M0 5.04167H4.60526V9.62501H0V5.04167Z",fill:"#00AEEF"}),React.createElement("path",{d:"M5.06577 5.04167H9.67103V9.62501H5.06577V5.04167Z",fill:"#FFC20E"}))},t}(React.Component);n.BingLogo=i;r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return React.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"currentColor",d:"M12 6.11133C12 5.55078 11.9286 5.01074 11.7857 4.49121C11.6429 3.97168 11.442 3.48405 11.183 3.02832C10.9241 2.57259 10.6094 2.16016 10.2389 1.79102C9.86834 1.42188 9.46433 1.10286 9.02683 0.833984C8.58934 0.565104 8.11167 0.360026 7.59382 0.21875C7.07597 0.077474 6.54473 0.00455729 6.0001 0C5.451 0 4.92199 0.0729167 4.41307 0.21875C3.90415 0.364583 3.42648 0.569661 2.98006 0.833984C2.53364 1.09831 2.12739 1.41732 1.76133 1.79102C1.39526 2.16471 1.08277 2.57715 0.823844 3.02832C0.564919 3.47949 0.361798 3.96484 0.214479 4.48438C0.0671597 5.00391 -0.00426769 5.54622 0.000196457 6.11133C0.000196457 6.52148 0.0403748 6.92708 0.12073 7.32812C0.201086 7.72917 0.317156 8.11654 0.468939 8.49023C0.620723 8.86393 0.808219 9.2194 1.03143 9.55664C1.25464 9.89388 1.51133 10.2083 1.80151 10.5L4.80146 13.501C4.96217 13.6605 5.1452 13.7835 5.35056 13.8701C5.55591 13.9567 5.77242 14 6.0001 14C6.22777 14 6.44429 13.9567 6.64964 13.8701C6.855 13.7835 7.03803 13.6605 7.19874 13.501L10.1987 10.5C10.4889 10.2129 10.7456 9.90072 10.9688 9.56348C11.192 9.22624 11.3795 8.86849 11.5313 8.49023C11.683 8.11198 11.7991 7.72461 11.8795 7.32812C11.9598 6.93164 12 6.52604 12 6.11133ZM3.42871 6.125V6.07031C3.42871 5.71484 3.49791 5.38216 3.6363 5.07227C3.77469 4.76237 3.96219 4.48893 4.19879 4.25195C4.43539 4.01497 4.70771 3.83268 5.01574 3.70508C5.32377 3.57747 5.65189 3.50911 6.0001 3.5C6.35724 3.5 6.69205 3.56836 7.00455 3.70508C7.31704 3.8418 7.58936 4.02865 7.8215 4.26562C8.05364 4.5026 8.23667 4.7806 8.3706 5.09961C8.50452 5.41862 8.57148 5.76042 8.57148 6.125C8.57148 6.48958 8.50452 6.83138 8.3706 7.15039C8.23667 7.4694 8.05364 7.7474 7.8215 7.98438C7.58936 8.22135 7.31704 8.4082 7.00455 8.54492C6.69205 8.68164 6.35724 8.75 6.0001 8.75C5.64296 8.75 5.30815 8.68164 4.99565 8.54492C4.68316 8.4082 4.41084 8.22135 4.1787 7.98438C3.94656 7.7474 3.76353 7.4694 3.6296 7.15039C3.49568 6.83138 3.42871 6.48958 3.42871 6.125Z"}))},t}(React.Component);n.LocalHeroIcon=r;u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return React.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"currentColor",d:"M0.546875 7.4375C0.546875 7.20508 0.590169 6.98177 0.676758 6.76758C0.763346 6.55339 0.888672 6.36426 1.05273 6.2002L6.74023 0.512695C6.89974 0.35319 7.08659 0.227865 7.30078 0.136719C7.51497 0.0455729 7.74056 0 7.97754 0H12.25C12.4915 0 12.7171 0.0455729 12.9268 0.136719C13.1364 0.227865 13.3232 0.35319 13.4873 0.512695C13.6514 0.672201 13.7767 0.856771 13.8633 1.06641C13.9499 1.27604 13.9954 1.50391 14 1.75V6.01562C14 6.24805 13.9567 6.47135 13.8701 6.68555C13.7835 6.89974 13.6559 7.09115 13.4873 7.25977L7.7998 12.9473C7.6403 13.1068 7.45345 13.2298 7.23926 13.3164C7.02506 13.403 6.79948 13.4486 6.5625 13.4531C6.33008 13.4531 6.10677 13.4098 5.89258 13.3232C5.67839 13.2367 5.48926 13.1113 5.3252 12.9473L1.05273 8.6748C0.893229 8.5153 0.770182 8.32845 0.683594 8.11426C0.597005 7.90006 0.551432 7.67448 0.546875 7.4375ZM11.5938 3.5C11.5938 3.34961 11.5641 3.20833 11.5049 3.07617C11.4456 2.94401 11.3682 2.83008 11.2725 2.73438C11.1768 2.63867 11.0605 2.55892 10.9238 2.49512C10.7871 2.43131 10.6458 2.40169 10.5 2.40625C10.3496 2.40625 10.2083 2.43359 10.0762 2.48828C9.94401 2.54297 9.8278 2.62272 9.72754 2.72754C9.62728 2.83236 9.5498 2.94857 9.49512 3.07617C9.44043 3.20378 9.41081 3.34505 9.40625 3.5C9.40625 3.65039 9.43587 3.79167 9.49512 3.92383C9.55436 4.05599 9.63184 4.16992 9.72754 4.26562C9.82324 4.36133 9.93945 4.44108 10.0762 4.50488C10.2129 4.56868 10.3542 4.59831 10.5 4.59375C10.6504 4.59375 10.7917 4.56413 10.9238 4.50488C11.056 4.44564 11.1699 4.36816 11.2656 4.27246C11.3613 4.17676 11.4411 4.06055 11.5049 3.92383C11.5687 3.78711 11.5983 3.64583 11.5938 3.5Z"}))},t}(React.Component);n.ShoppingIcon=u;f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return React.createElement("svg",{height:"10",width:"10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},React.createElement("path",{d:"M1792 1024L512 1920V128l1280 896z",fill:"currentColor"}))},t}(React.Component);n.PlayIcon=f;e=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return React.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 2048 2048",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M683 1621q0-35 25-60l537-537-537-537q-25-25-25-60t24-60 61-26q35 0 60 25l598 598q25 25 25 60t-25 60l-598 598q-25 25-60 25-36 0-60-25t-25-61z"}))},t}(React.Component);n.RightChevronIcon=e})(t=n.DSB||(n.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i,r=(i=this.props.msnClickthroughUrl)!==null&&i!==void 0?i:"https://www.msn.com/en-us/recipes?id="+this.props.entityId;n.Host.DSBLaunchUri(r,this.props.instrumentedItem,t)},r.prototype.getDsbScenario=function(){return 8},r.prototype.render=function(){var u=this,r,i,f;return this.props?(i=n.Host.getLocString("DSBRecipeFromTheWeb"),f={backgroundImage:"url(".concat(n.generateBingThumbnailUrlFromId(this.props.thumbnailId,{dsbSection:1,dsbScenario:this.getDsbScenario(),isWindows11:n.config.useCobaltCSS,isTwoCta:(r=this.props)===null||r===void 0?void 0:r.isTwoCta},this.props.imageHostName),")")},React.createElement("div",{id:this.props.id,className:"dsb-cta dsb-recipes selectable focusable",tabIndex:-1,"aria-label":i,role:"link",onClick:function(n){return u.click(n.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.PersonalizedRecipes"),onMouseEnter:function(){u.props.onHoverHandler()},title:i},React.createElement("div",{className:"dsb-cta__img",style:f}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__title"},i)))):null},r}(React.Component);i.PersonalizedRecipes=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=n.config.useCobaltCSS?3:2,u=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return __extends(f,u),f.prototype.click=function(t,i,r){var u="".concat(location.origin).concat(i);n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),r,t)},f.prototype.getDsbScenario=function(){return 6},f.prototype.imgSyle=function(t){var i=n.extractThumbnailIdFromUrl(t.thumbnailUrl);return{backgroundImage:"url('".concat(n.generateBingThumbnailUrlFromId(n.encodeQueryParameter(i),{dsbSection:2,dsbScenario:this.getDsbScenario(),isWindows11:n.config.useCobaltCSS,isTwoCta:this.props.isTwoCta},this.props.imageHostName),"')")}},f.prototype.formatLength=function(n){var t=Math.floor(n/1e3),i=Math.floor(t/60);return"".concat(i,":").concat(String(t%60).padStart(2,"0"))},f.prototype.render=function(){var u=this,f=n.Host.getLocString("DSBTrendingVideosTitle"),e=this.props,o=e.items,s=e.id;return React.createElement("div",{id:s,className:"dsb-trending-videos","data-region":"TrendingVideos","data-partnertag":t.whenTestHooks("DSB.TrendingVideos")},React.createElement("div",{className:"dsb-trending-videos__header","aria-label":f},React.createElement(i.TrendingIcon,null),React.createElement("span",null,f)),React.createElement("div",{className:"dsb-trending-videos__container"},o.slice(0,r).map(function(n,t){var r,f="".concat(u.props.id,"-").concat(t);return React.createElement("div",{id:f,key:f,className:"dsb-trending-videos__videos-container focusable",tabIndex:-1,"aria-label":n.Title,role:"link",onClick:function(t){return u.click(t.nativeEvent,n.videoUrl,n.instrumentedItem)},"data-h":(r=n.instrumentedItem)===null||r===void 0?void 0:r.getHValue(),onMouseEnter:function(){u.props.onHoverHandler()},title:n.Title},React.createElement("div",{className:"dsb-trending-videos__thumbnail",style:u.imgSyle(n)},React.createElement("div",{className:"dsb-trending-videos__length"},u.formatLength(n.TimeLength)),React.createElement("div",{className:"dsb-trending-videos__play"},React.createElement(i.PlayIcon,null))),React.createElement("div",{className:"dsb-trending-videos__title"},n.Title))})))},f}(React.Component);i.TrendingVideos=u})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){function r(n){return n&&n.length>0}function u(n){return r(n)?"dsb-iotd-card--with--wholepagetabs":""}i.hasWholePageTabs=r;i.getWholePageTabsClassName=u;var f=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t,i,r){var u=i.startsWith("/")?"".concat(location.origin).concat(i):i;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),r,t)},r.prototype.hasThumbnail=function(){return!!this.props.items.find(function(n){return!!n.ThumbnailId})},r.prototype.maxSuggestions=function(){var t;return this.canvas=this.canvas=this.canvas||document.createElement("canvas"),n.numberOfItemsToDisplay((t=this.props)===null||t===void 0?void 0:t.items.map(function(n){return n.TabName}),1,this.canvas,{extraWidthPerItem:34,lineWidth:368-(this.hasThumbnail()?15:0)})},r.prototype.getThumbnailUrl=function(n){return"".concat(this.props.imageHostName,"/th?id=").concat(n)},r.prototype.render=function(){var n=this,i=this.props,u=i.items,r=i.id;return React.createElement("div",{id:r,className:"dsb-wholepagetabs focusable","data-region":"WholePageTabs","data-partnertag":t.whenTestHooks("DSB.WholePageTabs")},React.createElement("ul",null,u.slice(0,this.maxSuggestions()).map(function(t){var i,u="".concat(r,"_").concat(t.TabName);return React.createElement("li",{id:u,key:u,className:"dsb-wholepagetabs__suggestion selectable focusable",tabIndex:-1,"aria-label":t.TabName,role:"link",onClick:function(i){i.stopPropagation();n.click(i.nativeEvent,t.ClickThroughUrl,t.instrumentedItem)},"data-h":(i=t.instrumentedItem)===null||i===void 0?void 0:i.getHValue()},t.ThumbnailId&&t.ThumbnailId.length>0&&React.createElement("div",{className:"dsb-wholepagetabs__thumbnail"},React.createElement("img",{src:n.getThumbnailUrl(t.ThumbnailId)})),t.TabName&&React.createElement("div",{className:"dsb-wholepagetabs__tabname"},t.TabName))})))},r}(React.Component);i.WholePageTabs=f})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.click=function(t,i,r){var u=i.startsWith("/")?"".concat(location.origin).concat(i):i;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),this.props.instrumentedItem,t,r)},u.prototype.render=function(){var c=this,r=this.props,e=r.ClickThroughUrl,u=r.id,l=r.imageHostName,o=r.instrumentedItem,a=r.onHoverHandler,s=r.PageUrl,v=r.ThumbnailId,h=r.Title,f=r.wholePageTabsData,y={backgroundImage:"url(".concat(n.generateBingThumbnailUrlFromId(v,{dsbSection:0,dsbScenario:13,isWindows11:n.config.useCobaltCSS},this.props.imageHostName,13),")")},p=React.createElement("div",{className:"dsb-kc-hero-card__content"},React.createElement("div",{className:"dsb-kc-hero-card__title"},h),e&&React.createElement(i.HeroOverlayButton,{btnId:"".concat(u,"_learnmore"),btnTitle:n.getBtnTitle("RewardsEducationMainButtonMessage"),btnClickThroughUrl:e,btnOverrideQscode:"KC_HeroCard".toString(),btnInstrumentedItem:o,btnClassName:"dsb-kc-hero-card__link focusable selectable"}),s&&React.createElement(i.HeroOverlayButton,{btnId:"".concat(u,"_pageurl"),btnTitle:n.getBtnTitle("DSBIotdAllImages"),btnClickThroughUrl:s,btnOverrideQscode:"AllImages".toString(),btnInstrumentedItem:o,btnClassName:"dsb-kc-hero-card__link focusable selectable"}));return React.createElement("div",{id:u,className:"dsb-iotd dsb-kc-hero",tabIndex:-1,"aria-label":h,role:"link",onClick:function(n){return c.click(n.nativeEvent,e)},"data-h":o.getHValue(),"data-partnertag":t.whenTestHooks("DSB.KC_HeroCard"),onMouseEnter:a},React.createElement("div",{className:"dsb-iotd__img-container ".concat(i.getWholePageTabsClassName(f))},React.createElement("div",{className:"dsb-hero__img",style:y})),React.createElement("div",{id:"".concat(u,"_card"),className:"dsb-iotd-card focusable ".concat(i.getWholePageTabsClassName(f))},p),i.hasWholePageTabs(f)&&React.createElement(i.WholePageTabs,{scenario:null,items:f,id:"".concat(u,"_wholepagetabs"),imageHostName:l}))},u}(React.Component);i.KC_HeroCard=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.getDate=function(){if(n.TestHookUrlParameters===null||n.TestHookUrlParameters===void 0?void 0:n.TestHookUrlParameters.dsbMockDateTimeParam){var t=new Date(n.TestHookUrlParameters.dsbMockDateTimeParam);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t}return n.getCurrentDate()},i.prototype.getMonthAndDay=function(){var t=this.getDate();return t.toLocaleDateString(n.uiLanguageCache.toLowerCase(),{month:"long",day:"numeric"})},i.prototype.render=function(){return React.createElement("h1",{className:"dsb-date-card"},React.createElement("span",null,n.Host.getLocString("DSBIotdDate")),React.createElement("span",{className:"dsb-date-dot"},"•"),React.createElement("span",null,this.getMonthAndDay()))},i}(React.Component);t.DateCard=i})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.getThumbnailUrl=function(t){var i=n.extractThumbnailIdFromUrl(t.SourceUrl);return n.generateBingThumbnailUrlFromId(i,{dsbSection:0,dsbScenario:9,isWindows11:n.config.useCobaltCSS},this.props.imageHostName)},u.prototype.click=function(t,i){var r=i;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(r),this.props.instrumentedItem,t)},u.prototype.render=function(){var o=this,r=this.props,u=r.CanonicalKey,f=r.id,s=r.instrumentedItem,h=r.onHoverHandler,c=r.SeeMoreUrl,l={backgroundImage:"url(".concat(this.getThumbnailUrl(this.props),")")},e=n.Host.getLocString("DSBLocalTag"),a="".concat(e,". ").concat(u),v=React.createElement("div",{className:"dsb-hero__body"},React.createElement("div",{className:"dsb-hero__tag"},React.createElement(i.LocalHeroIcon,null),e),React.createElement("div",{className:"dsb-hero__title__icon"},React.createElement("div",{className:"dsb-hero__title"},u),React.createElement(i.RightChevronIcon,null)));return React.createElement("div",{id:f,className:"dsb-iotd",tabIndex:-1,"aria-label":a,role:"link",onClick:function(n){return o.click(n.nativeEvent,c)},"data-h":s.getHValue(),"data-partnertag":t.whenTestHooks("DSB.RelatedLocal_Hero"),onMouseEnter:h},React.createElement("div",{className:"dsb-iotd__img-container"},React.createElement("div",{className:"dsb-hero__img__after",style:l})),React.createElement("div",{id:"".concat(f,"_card"),className:"dsb-iotd-card selectable focusable"},v))},u}(React.Component);i.RelatedLocal_Hero=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.getThumbnailUrl=function(t){return n.generateBingThumbnailUrlFromId(t.ImageUrl,{dsbSection:0,dsbScenario:11,isWindows11:n.config.useCobaltCSS},this.props.imageHostName)},u.prototype.click=function(t,i){var r=i;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(r),this.props.instrumentedItem,t)},u.prototype.render=function(){var f=this,r=this.props,e=r.ClickUrl,u=r.id,o=r.instrumentedItem,s=r.onHoverHandler,h=r.Title,c={backgroundImage:"url(".concat(this.getThumbnailUrl(this.props),")")},l=n.Host.getLocString("DSBShoppingTag"),a=React.createElement("div",{className:"dsb-hero__body"},React.createElement("div",{className:"dsb-hero__tag"},React.createElement(i.ShoppingIcon,null),l),React.createElement("div",{className:"dsb-hero__title__icon"},React.createElement("div",{className:"dsb-hero__title"},h),React.createElement(i.RightChevronIcon,null)));return React.createElement("div",{id:u,className:"dsb-iotd",tabIndex:-1,onClick:function(n){return f.click(n.nativeEvent,e)},role:"link","data-h":o.getHValue(),"data-partnertag":t.whenTestHooks("DSB.RelatedShopping_Hero"),onMouseEnter:s},React.createElement("div",{className:"dsb-iotd__img-container"},React.createElement("div",{className:"dsb-hero__img__after",style:c})),React.createElement("div",{id:"".concat(u,"_card"),className:"dsb-iotd-card focusable"},a))},u}(React.Component);i.RelatedShopping_Hero=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.getThumbnailUrl=function(){var t=this.props.ImageUrl2Cta;return n.generateBingThumbnailUrlFromId(t,{dsbSection:1,dsbScenario:11,isWindows11:n.config.useCobaltCSS,isTwoCta:this.props.isTwoCta},this.props.imageHostName)},r.prototype.click=function(t){var i=this.props.ClickUrl;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.render=function(){var n=this,i=this.props.id,r={backgroundImage:"url(".concat(this.getThumbnailUrl(),")")};return React.createElement("div",{id:i,className:"dsb-cta dsb-relshopping selectable focusable",tabIndex:-1,onClick:function(t){return n.click(t.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.RelatedShopping_CTA"),onMouseEnter:function(){n.props.onHoverHandler()},role:"link",title:this.props.Title},React.createElement("div",{className:"dsb-cta__img",style:r}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__title"},this.props.Title)))},r}(React.Component);i.RelatedShopping_CTA=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i=this.props.ClickThroughLink;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.getDsbScenario=function(){return 10},r.prototype.render=function(){var u=this,i=this.props,f=i.id,e=i.ThumbnailId,r=i.LocalizedString,o=i.isTwoCta,s={backgroundImage:"url(".concat(n.generateBingThumbnailUrlFromId(e,{dsbSection:1,dsbScenario:this.getDsbScenario(),isWindows11:n.config.useCobaltCSS,isTwoCta:o},this.props.imageHostName),")")};return React.createElement("div",{id:f,className:"dsb-cta dsb-relrecipe selectable focusable",tabIndex:-1,"aria-label":r,role:"link",onClick:function(n){return u.click(n.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.RelatedRecipe"),onMouseEnter:function(){u.props.onHoverHandler()},title:r},React.createElement("div",{className:"dsb-cta__img",style:s}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__title"},r)))},r}(React.Component);i.RelatedRecipe=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=4,u=function(i){function u(){return i!==null&&i.apply(this,arguments)||this}return __extends(u,i),u.prototype.click=function(t,i,r){var u="".concat(location.origin).concat(i);n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),r,t)},u.prototype.getDsbScenario=function(){return 7},u.prototype.imageStyle=function(t){return{backgroundImage:"url(".concat(n.generateBingThumbnailUrlFromId(t.ThumbnailId,{dsbSection:2,dsbScenario:this.getDsbScenario(),isWindows11:n.config.useCobaltCSS},this.props.imageHostName),")")}},u.prototype.render=function(){var i=this,u=n.Host.getLocString("DSBExploreMoreTitle"),f=this.props,o=f.items,e=f.id;return React.createElement("div",{id:e,className:"dsb-exploremore","data-region":"ExploreMore","data-partnertag":t.whenTestHooks("DSB.ExploreMore")},React.createElement("div",{className:"dsb-exploremore__header"},React.createElement("span",null,u)),React.createElement("div",{className:"dsb-exploremore__container","aria-label":u},o.slice(0,r).map(function(n){var t,r="".concat(e,"_").concat(n.EntityId);return React.createElement("div",{className:"dsb-exploremore__images-container focusable",id:r,key:r,tabIndex:-1,onClick:function(t){return i.click(t.nativeEvent,n.ClickThroughUrl,n.instrumentedItem)},"data-h":(t=n.instrumentedItem)===null||t===void 0?void 0:t.getHValue(),"aria-label":n.EntityName,role:"link",onMouseEnter:function(){i.props.onHoverHandler()}},React.createElement("div",{className:"dsb-exploremore__image",style:i.imageStyle(n)}),React.createElement("div",{className:"dsb-exploremore__image-title"},n.EntityName))})))},u}(React.Component);i.ExploreMore=u})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.getThumbnailUrl=function(){var t=n.extractThumbnailIdFromUrl(this.props.SourceUrl);return n.generateBingThumbnailUrlFromId(t,{dsbSection:1,dsbScenario:9,isWindows11:n.config.useCobaltCSS,isTwoCta:this.props.isTwoCta},this.props.imageHostName)},r.prototype.click=function(t){var i=this.props.ClickUrl;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.render=function(){var i=this,r=this.props,u=r.id,n=r.FriendlyName,f={backgroundImage:"url(".concat(this.getThumbnailUrl(),")")};return React.createElement("div",{id:u,className:"dsb-cta dsb-cta-rellocal selectable focusable",tabIndex:-1,"aria-label":n,role:"link",onClick:function(n){return i.click(n.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.RelatedLocal_CTA"),onMouseEnter:function(){i.props.onHoverHandler()},title:n},React.createElement("div",{className:"dsb-cta__img",style:f}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__title"},React.createElement("div",{className:"dsb-cta__title_primary"},n))))},r}(React.Component);i.RelatedLocal_CTA=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r="@",u=function(i){function u(){return i!==null&&i.apply(this,arguments)||this}return __extends(u,i),u.prototype.click=function(t){var i=this.props.LeagueName;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},u.prototype.getThumbnailUrl=function(n){return"http://img-s-msn-com.akamaized.net/tenant/amp/entityid/".concat(n,"?w=50")},u.prototype.getLogoAltText=function(t){return n.Host.getLocString("DSBSportsLogoAltText").replace("{0}",t)},u.prototype.formatDate=function(t){return t.toLocaleString(n.Host.getLanguage(),{month:"long",day:"numeric"})},u.prototype.formatTime=function(t){return t.toLocaleString(n.Host.getLanguage(),{hour:"numeric",minute:"numeric"})},u.prototype.render=function(){var e=this,n=this.props,o=n.LeagueName,s=n.ParticipantOneImageId,h=n.ParticipantTwoImageId,u=n.ParticipantOneName,f=n.ParticipantTwoName,c=n.ParticipantOnePrimaryColorHex,l=n.ParticipantTwoPrimaryColorHex,a=n.GameStartEpochLocalDateTime,v={background:"linear-gradient(180deg, #".concat(c," 0%, #").concat(l," 100%)")},i=new Date(+a);return React.createElement("div",{className:"dsb-cta dsb-personalized-sports focusable",onClick:function(n){return e.click(n.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.PersonalizedSports"),onMouseEnter:function(){e.props.onHoverHandler()},title:"".concat(o,":\n").concat(u).concat(r).concat(f,"\n").concat(i,"\n").concat(i)},React.createElement("div",{className:"dsb-cta__body",style:v},React.createElement("div",{className:"dsb-personalized-sports__league"},o),React.createElement("div",{className:"dsb-personalized-sports__logos"},React.createElement("img",{className:"dsb-personalized-sports__logo1",src:this.getThumbnailUrl(s),"alt-text":this.getLogoAltText(u)}),React.createElement("img",{src:this.getThumbnailUrl(h),"alt-text":this.getLogoAltText(f)})),React.createElement("div",{className:"dsb-personalized-sports__team"},u),React.createElement("div",{className:"dsb-personalized-sports__team"},r,f),React.createElement("div",{className:"dsb-personalized-sports__date"},this.formatDate(i)),React.createElement("div",{className:"dsb-personalized-sports__time"},this.formatTime(i))))},u}(React.Component);i.PersonalizedSports=u})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i=this.props.Url;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.getThumbnailUrl=function(){var t=n.extractThumbnailIdFromUrl(this.props.Image);return n.generateBingThumbnailUrlFromId(t,{dsbSection:1,dsbScenario:12,isWindows11:n.config.useCobaltCSS,isTwoCta:this.props.isTwoCta},this.props.imageHostName)},r.prototype.render=function(){var u=this,i=this.props,f=i.id,r=i.Title,n=i.Description,e={backgroundImage:"url(".concat(this.getThumbnailUrl(),")")},o="".concat(r,". ").concat(n);return React.createElement("div",{className:"dsb-cta dsb-rewards selectable focusable","data-partnertag":t.whenTestHooks("DSB.Rewards"),id:f,"aria-label":o,role:"link",onClick:function(n){return u.click(n.nativeEvent)},tabIndex:-1,"data-h":this.props.instrumentedItem.getHValue(),onMouseEnter:function(){u.props.onHoverHandler()},title:"".concat(r).concat(n&&":\n").concat(n)},React.createElement("div",{className:"dsb-cta__img",style:e}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__main"},n),React.createElement("div",{className:"dsb-cta__title"},React.createElement("div",{className:"dsb-cta__title_primary"},r))))},r}(React.Component);i.Rewards=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t,i,r,u){var f=i.startsWith("/")?"".concat(location.origin).concat(i):i;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(f),u,t,r)},r.prototype.render=function(){var r=this,n=this.props,u=n.btnId,f=n.btnTitle,i=n.btnClickThroughUrl,e=n.btnOverrideQscode,o=n.btnInstrumentedItem,s=n.btnClassName;return i&&React.createElement("div",{id:u,className:s,"data-partnertag":t.whenTestHooks("DSB.HeroOverlayButton"),tabIndex:-1,role:"link",onClick:function(n){n.stopPropagation();r.click(n.nativeEvent,i,e,o)}},f)},r}(React.Component);i.HeroOverlayButton=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var t;(function(t){var i=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.render=function(){var t=this.props,e=t.id,o=t.className,s=t.ctaScenario,h=t.ariaLabel,c=t.HValue,l=t.tooltips,a=t.hasMain,v=t.mainDescription,y=t.hasTitle,u=t.title,p=t.hasPrimaryTitle,r=t.primaryTitle,w=t.hasSecondaryTitle,f=t.secondaryTitle,b=t.hasImageBackground,k=t.divStyle,d=t.clickHandler,g=t.hoverHandler,nt=b?React.createElement("div",{className:"dsb-cta__img",style:k}):React.createElement("div",{className:"dsb-cta__img"}),tt=a?React.createElement("div",{className:"dsb-cta__main"},v):"",i;return y&&u?i=u:(p&&r&&(i=React.createElement("div",{className:"dsb-cta__title_primary"},r)),w&&f&&(i=React.createElement(React.Fragment,null,React.createElement("div",{className:"dsb-cta__title_primary"},r),React.createElement("div",{className:"dsb-cta__title_secondary"},f)))),React.createElement("div",{id:e,className:o,tabIndex:-1,"aria-label":h,role:"link",onClick:d,"data-h":c,"data-partnertag":n.whenTestHooks({ctaScenario:s}),onMouseEnter:g,title:l},nt,React.createElement("div",{className:"dsb-cta__body"},tt,React.createElement("div",{className:"dsb-cta__title"},i)))},i}(React.Component);t.CTAComponent=i})(t=n.DSB||(n.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.click=function(t){var i=this.props.ClickThroughUrl;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t,null,this.props.Ocid,this.props.FormCode)},u.prototype.getDsbScenario=function(){return 14},u.prototype.render=function(){var r=this,f=this.props,e=f.id,s=f.ThumbnailId,u=f.Title,h=f.isTwoCta,c=f.ClickThroughUrl,o={backgroundImage:"url(".concat(n.generateBingThumbnailUrlFromId(s,{dsbSection:1,dsbScenario:this.getDsbScenario(),isWindows11:n.config.useCobaltCSS,isTwoCta:h},this.props.imageHostName),")")},l=function(){r.props.onHoverHandler()},a=function(t){var i=c;i?i.startsWith("/")&&(i=n.generateBingUrlWithLanguageAndRegion("".concat(location.origin).concat(i))):i=location.origin;n.Host.DSBLaunchUri(i,r.props.instrumentedItem,t,null,r.props.Ocid,r.props.FormCode)};return n.config.enableDsbUseComp?React.createElement(i.CTAComponent,{id:e,className:"dsb-cta dsb-relrecipe selectable focusable",ctaScenario:14,hasImageBackground:!0,divStyle:o,ariaLabel:u,HValue:this.props.instrumentedItem.getHValue(),tooltips:u,clickThroughUrl:this.props.ClickThroughUrl,scenario:"DSB.CustomContent",imageHostName:this.props.imageHostName,hasTitle:!0,title:u,clickHandler:a,hoverHandler:l}):React.createElement("div",{id:e,className:"dsb-cta dsb-relrecipe selectable focusable",tabIndex:-1,"aria-label":u,role:"link",onClick:function(n){return r.click(n.nativeEvent)},"data-h":this.props.instrumentedItem.getHValue(),"data-partnertag":t.whenTestHooks("DSB.CustomContent"),onMouseEnter:function(){r.props.onHoverHandler()},title:u},React.createElement("div",{className:"dsb-cta__img",style:o}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__title"},u)))},u}(React.Component);i.CustomContent=r})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},function(n){var t;(function(n){var t;(function(n){var t;(function(t){var i=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.CheckTwoCtas=function(){var n,t,i,r;return((r=(i=(t=(n=this.props)===null||n===void 0?void 0:n.dataModel)===null||t===void 0?void 0:t.sections)===null||i===void 0?void 0:i.find(function(n){return n.cardType==="CallToAction"}))===null||r===void 0?void 0:r.numOfCards)===2},i.prototype.render=function(){var i=this.props.dataModel,t=this.CheckTwoCtas();return React.createElement("div",{className:"dsb-sections ".concat(t?"dsb-sections-two-ctas":"")},React.createElement(n.DateCard,null),i.sections.map(function(n){var i=React.createElement(n.sectionView,__assign(__assign({},n.props),{isTwoCta:t}));return i.key=n.props.id,i}))},i}(React.Component);t.DynamicSearchBoxTemplateContainer=i})(t=n.Templates||(n.Templates={}))})(t=n.DSB||(n.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.click=function(t,i,r){var u=i.startsWith("/")?"".concat(location.origin).concat(i):i;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),this.props.instrumentedItem,t,r)},u.prototype.render=function(){var e=this,u=this.props,o=u.cardAriaLabel,s=u.clickThroughUrl,h=u.cropNeeded,f=u.id,c=u.imageHostName,l=u.imageUrl,a=u.instrumentedItem,v=u.onHoverHandler,y=u.scenario,p=u.tagCard,r=u.wholePageTabsData,w=l,b="DSB."+y;return React.createElement("div",{id:f,className:"dsb-hero ".concat(h?"dsb-hero--cropped":""),onClick:function(n){return e.click(n.nativeEvent,s)},tabIndex:-1,role:"link","aria-label":o,"data-partnertag":t.whenTestHooks(b),"data-h":a.getHValue(),onMouseEnter:v},React.createElement("div",{className:"dsb-hero__img-container ".concat(i.getWholePageTabsClassName(r===null||r===void 0?void 0:r.Items))},React.createElement("div",{className:"dsb-hero__img ".concat(p?"dsb-hero__img--shading":""),style:w})),React.createElement("div",{id:"".concat(f,"_card"),className:"dsb-hero__content-container focusable ".concat(i.getWholePageTabsClassName(r===null||r===void 0?void 0:r.Items))},this.props.children),i.hasWholePageTabs(r===null||r===void 0?void 0:r.Items)&&!n.config.useCobaltCSS&&React.createElement(i.WholePageTabs,{scenario:null,Items:r===null||r===void 0?void 0:r.Items,id:"".concat(f,"_wholepagetabs"),imageHostName:c}))},u}(React.Component);i.HeroContainer=r})(r=i.Templates||(i.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r;(function(i){var r=4,u=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return __extends(f,u),f.prototype.click=function(t,i,r){var u="".concat(location.origin).concat(i);n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),r,t)},f.prototype.render=function(){var s=this,f=this.props,h=f.id,u=f.FieldsStore,c=f.onHoverHandler,e=f.Scenario,o=n.Host.getLocString(u===null||u===void 0?void 0:u.CaptionResourceKey);return React.createElement("div",{id:h,className:"dsb-mega mega","data-region":e,"data-partnertag":t.whenTestHooks("DSB.".concat(e))},React.createElement("div",{"aria-label":o,className:"dsb-mega__header"},React.createElement(i.DynamicIcons,{id:h,Icon:u===null||u===void 0?void 0:u.Icon}),React.createElement("span",null,o)),React.createElement("div",{"aria-label":o,className:"dsb-mega__container"},u.Items.slice(0,r).map(function(t,i){var r,u,f,o,h;return React.createElement("div",{id:"$mega_".concat(e,"_").concat(i),className:"dsb-mega__images-container focusable","data-h":(r=t.instrumentedItem)===null||r===void 0?void 0:r.getHValue(),onMouseEnter:c,onClick:function(n){var i;return s.click(n.nativeEvent,(i=t.FieldsStore)===null||i===void 0?void 0:i.ClickThroughUrl,t.instrumentedItem)},role:"link","aria-label":(u=t.FieldsStore)===null||u===void 0?void 0:u.Title,tabIndex:-1},React.createElement("div",{className:"dsb-mega__image",style:n.getImageStyle((o=(f=t.FieldsStore)===null||f===void 0?void 0:f.Thumbnail)===null||o===void 0?void 0:o.ThumbnailId,2,7,s.props.imageHostName)}),React.createElement("div",{className:"dsb-mega__image-title"},(h=t.FieldsStore)===null||h===void 0?void 0:h.Title))})))},f}(React.Component);i.MegaCard=u})(r=i.Templates||(i.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r;(function(r){var u=n.config.useCobaltCSS?3:2,f=function(f){function e(){return f!==null&&f.apply(this,arguments)||this}return __extends(e,f),e.prototype.click=function(t,i,r){n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),r,t)},e.prototype.formatLength=function(n){var t=Math.floor(n/1e3),i=Math.floor(t/60);return"".concat(i,":").concat(String(t%60).padStart(2,"0"))},e.prototype.render=function(){var o=this,e=this.props,c=e.id,f=e.FieldsStore,l=e.onHoverHandler,s=e.Scenario,h=n.Host.getLocString(f===null||f===void 0?void 0:f.CaptionResourceKey),a=u>2?"dsb-mega__container dsb-mega__container--many":"dsb-mega__container";return React.createElement("div",{id:c,className:"dsb-mega mega-video","data-region":s,"data-partnertag":t.whenTestHooks("DSB.".concat(s))},React.createElement("div",{"aria-label":h,className:"dsb-mega__header"},React.createElement(r.DynamicIcons,{id:c,Icon:f===null||f===void 0?void 0:f.Icon}),React.createElement("span",null,h)),React.createElement("div",{"aria-label":h,className:a},f.Items.slice(0,u).map(function(t,r){var u,f,e,h,c,a;return React.createElement("div",{id:"$mega_".concat(s,"_").concat(r),className:"dsb-mega__images-container focusable","data-h":(u=t.instrumentedItem)===null||u===void 0?void 0:u.getHValue(),onMouseEnter:l,onClick:function(n){var i;return o.click(n.nativeEvent,(i=t.FieldsStore)===null||i===void 0?void 0:i.ClickThroughUrl,t.instrumentedItem)},role:"link","aria-label":(f=t.FieldsStore)===null||f===void 0?void 0:f.Title,tabIndex:-1},React.createElement("div",{className:"dsb-mega__thumbnail",style:n.getImageStyle((h=(e=t.FieldsStore)===null||e===void 0?void 0:e.Thumbnail)===null||h===void 0?void 0:h.ThumbnailId,2,6,o.props.imageHostName)},React.createElement("div",{className:"dsb-mega__length"},o.formatLength((c=t.FieldsStore)===null||c===void 0?void 0:c.TimeLength)),React.createElement("div",{className:"dsb-mega-videos__play"},React.createElement(i.PlayIcon,null))),React.createElement("div",{className:"dsb-mega__image-title"},(a=t.FieldsStore)===null||a===void 0?void 0:a.Title))})))},e}(React.Component);r.MegaCardVideo=f})(r=i.Templates||(i.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.render=function(){var t=this.props,i=t.Icon,r=t.id;return React.createElement(React.Fragment,null,i&&[i].map(function(t){var i=React.createElement(n.View.DSB[t],{});return i.key=r,i}))},i}(React.Component);t.DynamicIcons=i})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var t;(function(t){var i;(function(t){var i=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.render=function(){var t=this.props,i=t.id,r=t.className,u=t.ariaLabel,f=t.HValue,e=t.tooltips,o=t.clickHandler,s=t.hoverHandler,h=t.scenario,c="DSB."+h;return React.createElement("div",{id:i,className:"dsb-cta selectable focusable ".concat(r),tabIndex:-1,"aria-label":u,role:"link",onClick:o,"data-h":f,"data-partnertag":n.whenTestHooks(c),onMouseEnter:s,title:e},this.props.children)},i}(React.Component);t.CTAContainer=i})(i=t.Templates||(t.Templates={}))})(t=n.DSB||(n.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i=this.props.FieldsStore.ClickThroughUrl;i?i.startsWith("/")&&(i=n.generateBingUrlWithLanguageAndRegion("".concat(location.origin).concat(i))):i=location.origin;n.Host.DSBLaunchUri(i,this.props.instrumentedItem,t,null,this.props.Ocid,this.props.FormCode)},r.prototype.render=function(){var o=this,u,f,r=this.props,s=r.id,h=r.ClickThroughUrl,c=r.onHoverHandler,e=r.imageHostName,i=r.FieldsStore,l=r.isTwoCta,a=n.getImageStyle((u=i.Thumbnail)===null||u===void 0?void 0:u.ThumbnailId,1,15,e,l),v=(f=i.Title)!==null&&f!==void 0?f:n.Host.getLocString(i.CaptionResourceKey);return React.createElement(t.CTAContainer,{id:s,className:"dsb-imgsimple",ariaLabel:i.Title,HValue:this.props.instrumentedItem.getHValue(),tooltips:i.Title,clickThroughUrl:h,scenario:"ImageSimpleCTA",imageHostName:e,clickHandler:function(n){return o.click(n.nativeEvent)},hoverHandler:c},React.createElement("div",{className:"dsb-cta__img",style:a}),React.createElement("div",{className:"dsb-cta__body"},i.Description&&React.createElement("div",{className:"dsb-cta__main"},i.Description),React.createElement("div",{className:"dsb-cta__title"},v)))},r}(React.Component);t.ImageSimpleCTA=i})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i="".concat(location.origin).concat(this.props.FieldsStore.ClickThroughUrl);n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.render=function(){function f(){return n.Host.getLocString(i.CaptionResourceKey).replace("{0}","")}var o=this,u,r=this.props,s=r.id,e=r.imageHostName,h=r.onHoverHandler,i=r.FieldsStore,c=r.isTwoCta,l=n.getImageStyle((u=i.Thumbnail)===null||u===void 0?void 0:u.ThumbnailId,1,1,e,c),a="".concat(f(),", ").concat(i.Subtitle);return React.createElement(t.CTAContainer,{id:s,className:"dsb-imgsubtitle",thumbnailId:i.Thumbnail.ThumbnailId,ariaLabel:a,HValue:this.props.instrumentedItem.getHValue(),tooltips:"".concat(f(),"\n").concat(i.Subtitle),clickThroughUrl:i.ClickThroughUrl,scenario:"OnThisDay",imageHostName:e,clickHandler:function(n){return o.click(n)},hoverHandler:h},React.createElement("div",{className:"dsb-cta__img",style:l}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__title"},React.createElement("div",{className:"dsb-cta__title_primary"},f()),React.createElement("div",{className:"dsb-cta__title_secondary"},i.Subtitle))))},r}(React.Component);t.ImageSubtitleCTA=i})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i=this.props.FieldsStore.ClickThroughUrl;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.addQuotes=function(t){return n.Host.getLocString("Quotes").replace("{0}",t)},r.prototype.render=function(){var f=this,r=this.props,e=r.id,o=r.imageHostName,s=r.onHoverHandler,i=r.FieldsStore,u=n.Host.getLocString(i.CaptionResourceKey),h="".concat(u,", ").concat(i.QuoteText,", ").concat(i.AuthorName);return React.createElement(t.CTAContainer,{id:e,className:"dsb-bgsubtitle",ariaLabel:h,HValue:this.props.instrumentedItem.getHValue(),tooltips:"".concat(u,":\n").concat(i.AuthorName,"\n").concat(this.addQuotes(i.QuoteText)),clickThroughUrl:i.ClickThroughUrl,scenario:"QuoteOfTheDay",imageHostName:o,clickHandler:function(n){return f.click(n.nativeEvent)},hoverHandler:s},React.createElement("div",{className:"dsb-cta__img"}),React.createElement("div",{className:"dsb-cta__body"},i.QuoteText&&React.createElement("div",{className:"dsb-cta__main"},this.addQuotes(i.QuoteText)),React.createElement("div",{className:"dsb-cta__title"},React.createElement("div",{className:"dsb-cta__title_primary"},u),React.createElement("div",{className:"dsb-cta__title_secondary"},i.AuthorName))))},r}(React.Component);t.SolidBackgroundSubtitleCTA=i})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t){var i=this.props.FieldsStore.ClickThroughUrl;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(i),this.props.instrumentedItem,t)},r.prototype.render=function(){var f=this,r=this.props,e=r.id,o=r.imageHostName,s=r.onHoverHandler,i=r.FieldsStore,u=n.Host.getLocString(i.CaptionResourceKey),h="".concat(u,", ").concat(i.HeadWord,", ").concat(i.WordFormType),c=n.getTooltips(u,i.HeadWord,i.Pronunciation,i.WordFormType),l=React.createElement(React.Fragment,null,React.createElement("div",{className:"dsb-cta__header"},i.HeadWord),i.Pronunciation&&React.createElement("div",{className:"dsb-bgsimple__pronunciation"},"[",i.Pronunciation,"]"),React.createElement("div",{className:"dsb-bgsimple__form"},i.WordFormType),React.createElement("div",{className:"dsb-bgsimple__definition"},i.Definition));return React.createElement(t.CTAContainer,{id:e,className:"dsb-bgsimple",ariaLabel:h,HValue:this.props.instrumentedItem.getHValue(),tooltips:c,clickThroughUrl:i.ClickThroughUrl,scenario:"WordOfTheDay",imageHostName:o,clickHandler:function(n){return f.click(n.nativeEvent)},hoverHandler:s},React.createElement("div",{className:"dsb-cta__img"}),React.createElement("div",{className:"dsb-cta__body"},React.createElement("div",{className:"dsb-cta__main"},l),React.createElement("div",{className:"dsb-cta__title"},React.createElement("div",{className:"dsb-cta__title_primary"},u))))},r}(React.Component);t.SolidBackgroundSimpleCTA=i})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var t;(function(t){var i;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.render=function(){var i=this.props,r=i.ariaLabel,u=i.className,f=i.headerClassName,e=i.iconId,o=i.iconName,s=i.id,h=i.dataPartnertag,c=i.dataRegion,l=i.title;return React.createElement("div",{"aria-label":r,className:"dsb-trending focusable ".concat(u),"data-partnertag":n.whenTestHooks(h),"data-region":c,id:s},React.createElement(t.TrendingHeader,{className:f,iconId:e,iconName:o,title:l}),this.props.children)},r}(React.Component);t.TrendingContainer=i})(i=t.Templates||(t.Templates={}))})(t=n.DSB||(n.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var t;(function(n){var t;(function(n){var t=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.render=function(){var t=this.props,i=t.className,r=t.iconId,u=t.iconName,f=t.title;return React.createElement("div",{className:i},React.createElement(n.DynamicIcons,{id:r,Icon:u}),React.createElement("span",null,f))},i}(React.Component);n.TrendingHeader=t})(t=n.Templates||(n.Templates={}))})(t=n.DSB||(n.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t,i,r){var u="".concat(location.origin,"/search?q=").concat(encodeURIComponent(i));n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),t,r)},r.prototype.maxSuggestions=function(t){return(this.canvas=this.canvas||document.createElement("canvas"),n.config.useCobaltCSS)?n.numberOfItemsToDisplay(t.map(function(n){return n.Title}),2,this.canvas,{extraWidthPerItem:36,lineWidth:390}):n.numberOfItemsToDisplay(t.map(function(n){return n.Title}),5,this.canvas,{extraWidthPerItem:33,lineWidth:368,font:'normal 13px "Segoe UI"'})},r.prototype.render=function(){var o=this,r,i=this.props,u=i.FieldsStore,f=i.id,s=i.onHoverHandler,h=i.imageHostName,e=n.Host.getLocString(u.CaptionResourceKey),c=React.createElement("ul",null,(r=u.Items)===null||r===void 0?void 0:r.slice(0,this.maxSuggestions(u.Items)).map(function(n){var t,i=n.Title,r="".concat(f,"_").concat(i);return React.createElement("li",{className:"dsb-trending__suggestion focusable","data-h":(t=n.instrumentedItem)===null||t===void 0?void 0:t.getHValue(),id:r,key:r,onClick:function(t){return o.click(n.instrumentedItem,i,t.nativeEvent)},onMouseEnter:s,tabIndex:-1},i)}));return React.createElement(t.TrendingContainer,{ariaLabel:e,children:c,dataPartnertag:"DSB.TrendingSearch",dataRegion:"TrendingSearches",headerClassName:"dsb-trending__header",iconId:"TrendingIcon"+Math.random().toString(8).substring(2),iconName:"TrendingIcon",id:f,imageHostName:h,scenario:"TrendingSearch",title:e})},r}(React.Component);t.TrendingSearchItems=i})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.render=function(){var f,e,u=this.props,r=u.FieldsStore,o=u.id,s=u.imageHostName,h=u.instrumentedItem,c=u.onHoverHandler,l=u.Scenario,a=n.getImageStyle((f=r===null||r===void 0?void 0:r.Thumbnail)===null||f===void 0?void 0:f.ThumbnailId,0,null,s,!1,!0);return React.createElement(i.HeroContainer,{cardAriaLabel:r.Title,clickThroughUrl:r.ClickThroughUrl,cropNeeded:!0,id:o,imageUrl:a,imageHostName:s,instrumentedItem:h,onHoverHandler:c,scenario:l,tagCard:!1,wholePageTabsData:r.WholePageTabs},React.createElement("div",{className:"simple-card"},React.createElement("div",{className:"simple-card__title"},r.Title),(e=r.OverlayButtons)===null||e===void 0?void 0:e.slice().map(function(i){return React.createElement(t.HeroOverlayButton,{btnId:"".concat(o,"_").concat(i.CaptionResourceKey),btnTitle:n.getBtnTitle(i.CaptionResourceKey),btnClickThroughUrl:i.ClickThroughUrl,btnOverrideQscode:i.OverrideQSCode,btnInstrumentedItem:h,btnClassName:"simple-card__link focusable selectable"})})))},u}(React.Component);i.SimpleCard=r})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.render=function(){var f,u=this.props,r=u.FieldsStore,e=u.id,o=u.imageHostName,s=u.instrumentedItem,h=u.onHoverHandler,c=u.Scenario,l=n.getImageStyle((f=r===null||r===void 0?void 0:r.Thumbnail)===null||f===void 0?void 0:f.ThumbnailId,0,null,o,!1,!1);return React.createElement(i.HeroContainer,{cardAriaLabel:r.Title,clickThroughUrl:r.ClickThroughUrl,cropNeeded:!1,id:e,imageUrl:l,imageHostName:o,instrumentedItem:s,onHoverHandler:h,scenario:c,tagCard:!0,wholePageTabsData:null},React.createElement("div",{className:"tagged-card"},React.createElement("div",{className:"tagged-card__tag"},React.createElement(i.DynamicIcons,{id:e,Icon:r.Icon}),n.Host.getLocString(r.CaptionResourceKey)),React.createElement("div",{className:"tagged-card__title-container"},React.createElement("div",{className:"tagged-card__title"},r.Title),React.createElement(t.RightChevronIcon,null))))},u}(React.Component);i.TaggedCard=r})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){var i;(function(i){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return __extends(u,r),u.prototype.render=function(){var f,e,u=this.props,r=u.FieldsStore,o=u.id,s=u.imageHostName,h=u.instrumentedItem,c=u.onHoverHandler,l=u.Scenario,a=n.getImageStyle((f=r===null||r===void 0?void 0:r.Thumbnail)===null||f===void 0?void 0:f.ThumbnailId,0,null,s,!1,!1);return React.createElement(i.HeroContainer,{cardAriaLabel:r.Title,clickThroughUrl:r.ClickThroughUrl,cropNeeded:!1,id:o,imageUrl:a,imageHostName:s,instrumentedItem:h,onHoverHandler:c,scenario:l,tagCard:!1,wholePageTabsData:r.WholePageTabs},React.createElement("div",{className:"descriptive-hover-card"},React.createElement("div",{className:"descriptive-hover-card__title-caption-content"},React.createElement("div",{className:"descriptive-hover-card__title-content"},r.Title&&React.createElement("div",{className:"descriptive-hover-card__title-text"},r.Title),React.createElement("div",{className:"descriptive-hover-card__title-copyright"},r.Copyright)),React.createElement("div",{className:"descriptive-hover-card__caption focusable selectable"},React.createElement("div",{className:"descriptive-hover-card__caption-icon"},React.createElement(i.DynamicIcons,{id:o,Icon:r.Icon})),React.createElement("div",{className:"descriptive-hover-card__caption-text"},r.Caption))),(e=r.OverlayButtons)===null||e===void 0?void 0:e.slice().map(function(i){return React.createElement(t.HeroOverlayButton,{btnId:"".concat(o,"_").concat(i.CaptionResourceKey),btnTitle:n.getBtnTitle(i.CaptionResourceKey),btnClickThroughUrl:i.ClickThroughUrl,btnOverrideQscode:i.OverrideQSCode,btnInstrumentedItem:h,btnClassName:"descriptive-hero-card__link focusable selectable"})})),React.createElement("div",{className:"descriptive-hover-card__bing-logo"},React.createElement(t.BingLogo,null)))},u}(React.Component);i.DescriptiveHoverCard=r})(i=t.Templates||(t.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){var r;(function(i){function r(n){return n&&n.length>0}function u(t){return n.config.enableDsbUseComp?r(t)?"wholepagetabs__container":"":r(t)?"dsb-iotd-card--with--wholepagetabs":""}i.hasWholePageTabs=r;i.getWholePageTabsClassName=u;var f=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.click=function(t,i,r){var u=i.startsWith("/")?"".concat(location.origin).concat(i):i;n.Host.DSBLaunchUri(n.generateBingUrlWithLanguageAndRegion(u),r,t)},r.prototype.hasThumbnail=function(){return!!this.props.Items.find(function(n){return!!n.ThumbnailId})},r.prototype.maxSuggestions=function(){var t;return this.canvas=this.canvas=this.canvas||document.createElement("canvas"),n.numberOfItemsToDisplay((t=this.props)===null||t===void 0?void 0:t.Items.map(function(n){var t;return(t=n.TabName)!==null&&t!==void 0?t:n.Title}),1,this.canvas,{extraWidthPerItem:34,lineWidth:368-(this.hasThumbnail()?15:0)})},r.prototype.getThumbnailUrl=function(n){return"".concat(this.props.imageHostName,"/th?id=").concat(n)},r.prototype.render=function(){var n=this,i=this.props,r=i.id,u=i.Items;return React.createElement("div",{id:r,className:"dsb-wholepagetabs focusable","data-region":"WholePageTabs","data-partnertag":t.whenTestHooks("DSB.WholePageTabs")},React.createElement("ul",null,u.slice(0,this.maxSuggestions()).map(function(t){var i,u,f,e,o,s="".concat(r,"_").concat((i=t.TabName)!==null&&i!==void 0?i:t.Title);return React.createElement("li",{id:s,key:s,className:"dsb-wholepagetabs__suggestion selectable focusable",tabIndex:-1,"aria-label":(u=t.TabName)!==null&&u!==void 0?u:t.Title,role:"link",onClick:function(i){i.stopPropagation();n.click(i.nativeEvent,t.ClickThroughUrl,t.instrumentedItem)},"data-h":(f=t.instrumentedItem)===null||f===void 0?void 0:f.getHValue()},t.ThumbnailId&&t.ThumbnailId.length>0&&React.createElement("div",{className:"dsb-wholepagetabs__thumbnail"},React.createElement("img",{src:n.getThumbnailUrl(t.ThumbnailId)})),((e=t.TabName)!==null&&e!==void 0?e:t.Title)&&React.createElement("div",{className:"dsb-wholepagetabs__tabname"},(o=t.TabName)!==null&&o!==void 0?o:t.Title))})))},r}(React.Component);i.WholePageTabs=f})(r=i.Templates||(i.Templates={}))})(i=t.DSB||(t.DSB={}))})(t=n.View||(n.View={}))}(WSB||(WSB={}))